(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var go={exports:{}},ws={},yo={exports:{}},R={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=Symbol.for("react.element"),Du=Symbol.for("react.portal"),Ru=Symbol.for("react.fragment"),Iu=Symbol.for("react.strict_mode"),Ou=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),$u=Symbol.for("react.context"),Uu=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Vu=Symbol.for("react.memo"),Hu=Symbol.for("react.lazy"),ei=Symbol.iterator;function Wu(e){return e===null||typeof e!="object"?null:(e=ei&&e[ei]||e["@@iterator"],typeof e=="function"?e:null)}var vo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jo=Object.assign,wo={};function hn(e,t,n){this.props=e,this.context=t,this.refs=wo,this.updater=n||vo}hn.prototype.isReactComponent={};hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function No(){}No.prototype=hn.prototype;function la(e,t,n){this.props=e,this.context=t,this.refs=wo,this.updater=n||vo}var aa=la.prototype=new No;aa.constructor=la;jo(aa,hn.prototype);aa.isPureReactComponent=!0;var ti=Array.isArray,bo=Object.prototype.hasOwnProperty,ia={current:null},ko={key:!0,ref:!0,__self:!0,__source:!0};function So(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)bo.call(t,s)&&!ko.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:ar,type:e,key:a,ref:i,props:l,_owner:ia.current}}function Qu(e,t){return{$$typeof:ar,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oa(e){return typeof e=="object"&&e!==null&&e.$$typeof===ar}function qu(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ni=/\/+/g;function Os(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qu(""+e.key):t.toString(36)}function Dr(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ar:case Du:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Os(i,0):s,ti(l)?(n="",e!=null&&(n=e.replace(ni,"$&/")+"/"),Dr(l,t,n,"",function(u){return u})):l!=null&&(oa(l)&&(l=Qu(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(ni,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",ti(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+Os(a,o);i+=Dr(a,t,n,c,l)}else if(c=Wu(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+Os(a,o++),i+=Dr(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xr(e,t,n){if(e==null)return e;var s=[],l=0;return Dr(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Ku(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pe={current:null},Rr={transition:null},Yu={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:Rr,ReactCurrentOwner:ia};function Co(){throw Error("act(...) is not supported in production builds of React.")}R.Children={map:xr,forEach:function(e,t,n){xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xr(e,function(){t++}),t},toArray:function(e){return xr(e,function(t){return t})||[]},only:function(e){if(!oa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};R.Component=hn;R.Fragment=Ru;R.Profiler=Ou;R.PureComponent=la;R.StrictMode=Iu;R.Suspense=Bu;R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yu;R.act=Co;R.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jo({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ia.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)bo.call(t,c)&&!ko.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:ar,type:e.type,key:l,ref:a,props:s,_owner:i}};R.createContext=function(e){return e={$$typeof:$u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fu,_context:e},e.Consumer=e};R.createElement=So;R.createFactory=function(e){var t=So.bind(null,e);return t.type=e,t};R.createRef=function(){return{current:null}};R.forwardRef=function(e){return{$$typeof:Uu,render:e}};R.isValidElement=oa;R.lazy=function(e){return{$$typeof:Hu,_payload:{_status:-1,_result:e},_init:Ku}};R.memo=function(e,t){return{$$typeof:Vu,type:e,compare:t===void 0?null:t}};R.startTransition=function(e){var t=Rr.transition;Rr.transition={};try{e()}finally{Rr.transition=t}};R.unstable_act=Co;R.useCallback=function(e,t){return pe.current.useCallback(e,t)};R.useContext=function(e){return pe.current.useContext(e)};R.useDebugValue=function(){};R.useDeferredValue=function(e){return pe.current.useDeferredValue(e)};R.useEffect=function(e,t){return pe.current.useEffect(e,t)};R.useId=function(){return pe.current.useId()};R.useImperativeHandle=function(e,t,n){return pe.current.useImperativeHandle(e,t,n)};R.useInsertionEffect=function(e,t){return pe.current.useInsertionEffect(e,t)};R.useLayoutEffect=function(e,t){return pe.current.useLayoutEffect(e,t)};R.useMemo=function(e,t){return pe.current.useMemo(e,t)};R.useReducer=function(e,t,n){return pe.current.useReducer(e,t,n)};R.useRef=function(e){return pe.current.useRef(e)};R.useState=function(e){return pe.current.useState(e)};R.useSyncExternalStore=function(e,t,n){return pe.current.useSyncExternalStore(e,t,n)};R.useTransition=function(){return pe.current.useTransition()};R.version="18.3.1";yo.exports=R;var N=yo.exports;const _o=Au(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=N,Gu=Symbol.for("react.element"),Xu=Symbol.for("react.fragment"),Zu=Object.prototype.hasOwnProperty,ed=Ju.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,td={key:!0,ref:!0,__self:!0,__source:!0};function Eo(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Zu.call(t,s)&&!td.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Gu,type:e,key:a,ref:i,props:l,_owner:ed.current}}ws.Fragment=Xu;ws.jsx=Eo;ws.jsxs=Eo;go.exports=ws;var r=go.exports,dl={},Po={exports:{}},Ce={},zo={exports:{}},Lo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,T){var D=_.length;_.push(T);e:for(;0<D;){var J=D-1>>>1,te=_[J];if(0<l(te,T))_[J]=T,_[D]=te,D=J;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var T=_[0],D=_.pop();if(D!==T){_[0]=D;e:for(var J=0,te=_.length,mr=te>>>1;J<mr;){var Nt=2*(J+1)-1,Is=_[Nt],bt=Nt+1,hr=_[bt];if(0>l(Is,D))bt<te&&0>l(hr,Is)?(_[J]=hr,_[bt]=D,J=bt):(_[J]=Is,_[Nt]=D,J=Nt);else if(bt<te&&0>l(hr,D))_[J]=hr,_[bt]=D,J=bt;else break e}}return T}function l(_,T){var D=_.sortIndex-T.sortIndex;return D!==0?D:_.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,m=null,g=3,f=!1,w=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(_){for(var T=n(u);T!==null;){if(T.callback===null)s(u);else if(T.startTime<=_)s(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function y(_){if(b=!1,p(_),!w)if(n(c)!==null)w=!0,P(v);else{var T=n(u);T!==null&&O(y,T.startTime-_)}}function v(_,T){w=!1,b&&(b=!1,x(E),E=-1),f=!0;var D=g;try{for(p(T),m=n(c);m!==null&&(!(m.expirationTime>T)||_&&!L());){var J=m.callback;if(typeof J=="function"){m.callback=null,g=m.priorityLevel;var te=J(m.expirationTime<=T);T=e.unstable_now(),typeof te=="function"?m.callback=te:m===n(c)&&s(c),p(T)}else s(c);m=n(c)}if(m!==null)var mr=!0;else{var Nt=n(u);Nt!==null&&O(y,Nt.startTime-T),mr=!1}return mr}finally{m=null,g=D,f=!1}}var j=!1,k=null,E=-1,I=5,A=-1;function L(){return!(e.unstable_now()-A<I)}function $(){if(k!==null){var _=e.unstable_now();A=_;var T=!0;try{T=k(!0,_)}finally{T?we():(j=!1,k=null)}}else j=!1}var we;if(typeof d=="function")we=function(){d($)};else if(typeof MessageChannel<"u"){var fr=new MessageChannel,pr=fr.port2;fr.port1.onmessage=$,we=function(){pr.postMessage(null)}}else we=function(){C($,0)};function P(_){k=_,j||(j=!0,we())}function O(_,T){E=C(function(){_(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||f||(w=!0,P(v))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var D=g;g=T;try{return _()}finally{g=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,T){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var D=g;g=_;try{return T()}finally{g=D}},e.unstable_scheduleCallback=function(_,T,D){var J=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,_){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=D+te,_={id:h++,callback:T,priorityLevel:_,startTime:D,expirationTime:te,sortIndex:-1},D>J?(_.sortIndex=D,t(u,_),n(c)===null&&_===n(u)&&(b?(x(E),E=-1):b=!0,O(y,D-J))):(_.sortIndex=te,t(c,_),w||f||(w=!0,P(v))),_},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(_){var T=g;return function(){var D=g;g=T;try{return _.apply(this,arguments)}finally{g=D}}}})(Lo);zo.exports=Lo;var nd=zo.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=N,Se=nd;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var To=new Set,Un={};function Ot(e,t){an(e,t),an(e+"Capture",t)}function an(e,t){for(Un[e]=t,e=0;e<t.length;e++)To.add(t[e])}var Ge=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,sd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ri={},si={};function ld(e){return fl.call(si,e)?!0:fl.call(ri,e)?!1:sd.test(e)?si[e]=!0:(ri[e]=!0,!1)}function ad(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function id(e,t,n,s){if(t===null||typeof t>"u"||ad(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function me(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)});var ca=/[\-:]([a-z])/g;function ua(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ca,ua);ae[t]=new me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ca,ua);ae[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ca,ua);ae[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)});function da(e,t,n,s){var l=ae.hasOwnProperty(t)?ae[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(id(t,n,l,s)&&(n=null),s||l===null?ld(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var tt=rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gr=Symbol.for("react.element"),Ut=Symbol.for("react.portal"),Bt=Symbol.for("react.fragment"),fa=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),Mo=Symbol.for("react.provider"),Ao=Symbol.for("react.context"),pa=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),ma=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Do=Symbol.for("react.offscreen"),li=Symbol.iterator;function vn(e){return e===null||typeof e!="object"?null:(e=li&&e[li]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,Fs;function _n(e){if(Fs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fs=t&&t[1]||""}return`
`+Fs+e}var $s=!1;function Us(e,t){if(!e||$s)return"";$s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{$s=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_n(e):""}function od(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=Us(e.type,!1),e;case 11:return e=Us(e.type.render,!1),e;case 1:return e=Us(e.type,!0),e;default:return""}}function xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bt:return"Fragment";case Ut:return"Portal";case pl:return"Profiler";case fa:return"StrictMode";case ml:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ao:return(e.displayName||"Context")+".Consumer";case Mo:return(e._context.displayName||"Context")+".Provider";case pa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ma:return t=e.displayName||null,t!==null?t:xl(e.type)||"Memo";case rt:t=e._payload,e=e._init;try{return xl(e(t))}catch{}}return null}function cd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xl(t);case 8:return t===fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ro(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ud(e){var t=Ro(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yr(e){e._valueTracker||(e._valueTracker=ud(e))}function Io(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ro(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ai(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=gt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oo(e,t){t=t.checked,t!=null&&da(e,"checked",t,!1)}function yl(e,t){Oo(e,t);var n=gt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&vl(e,t.type,gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ii(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vl(e,t,n){(t!=="number"||Kr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var En=Array.isArray;function Zt(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+gt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function jl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(En(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gt(n)}}function Fo(e,t){var n=gt(t.value),s=gt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ci(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $o(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$o(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vr,Uo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dd=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(e){dd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ln[t]=Ln[e]})});function Bo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ln.hasOwnProperty(e)&&Ln[e]?(""+t).trim():t+"px"}function Vo(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Bo(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var fd=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nl(e,t){if(t){if(fd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sl=null,en=null,tn=null;function ui(e){if(e=cr(e)){if(typeof Sl!="function")throw Error(S(280));var t=e.stateNode;t&&(t=Cs(t),Sl(e.stateNode,e.type,t))}}function Ho(e){en?tn?tn.push(e):tn=[e]:en=e}function Wo(){if(en){var e=en,t=tn;if(tn=en=null,ui(e),t)for(e=0;e<t.length;e++)ui(t[e])}}function Qo(e,t){return e(t)}function qo(){}var Bs=!1;function Ko(e,t,n){if(Bs)return e(t,n);Bs=!0;try{return Qo(e,t,n)}finally{Bs=!1,(en!==null||tn!==null)&&(qo(),Wo())}}function Vn(e,t){var n=e.stateNode;if(n===null)return null;var s=Cs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var Cl=!1;if(Ge)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Cl=!1}function pd(e,t,n,s,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Tn=!1,Yr=null,Jr=!1,_l=null,md={onError:function(e){Tn=!0,Yr=e}};function hd(e,t,n,s,l,a,i,o,c){Tn=!1,Yr=null,pd.apply(md,arguments)}function xd(e,t,n,s,l,a,i,o,c){if(hd.apply(this,arguments),Tn){if(Tn){var u=Yr;Tn=!1,Yr=null}else throw Error(S(198));Jr||(Jr=!0,_l=u)}}function Ft(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function di(e){if(Ft(e)!==e)throw Error(S(188))}function gd(e){var t=e.alternate;if(!t){if(t=Ft(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return di(l),e;if(a===s)return di(l),t;a=a.sibling}throw Error(S(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(S(189))}}if(n.alternate!==s)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Jo(e){return e=gd(e),e!==null?Go(e):null}function Go(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Go(e);if(t!==null)return t;e=e.sibling}return null}var Xo=Se.unstable_scheduleCallback,fi=Se.unstable_cancelCallback,yd=Se.unstable_shouldYield,vd=Se.unstable_requestPaint,G=Se.unstable_now,jd=Se.unstable_getCurrentPriorityLevel,xa=Se.unstable_ImmediatePriority,Zo=Se.unstable_UserBlockingPriority,Gr=Se.unstable_NormalPriority,wd=Se.unstable_LowPriority,ec=Se.unstable_IdlePriority,Ns=null,He=null;function Nd(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var Oe=Math.clz32?Math.clz32:Sd,bd=Math.log,kd=Math.LN2;function Sd(e){return e>>>=0,e===0?32:31-(bd(e)/kd|0)|0}var jr=64,wr=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xr(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=Pn(o):(a&=i,a!==0&&(s=Pn(a)))}else i=n&~l,i!==0?s=Pn(i):a!==0&&(s=Pn(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Oe(t),l=1<<n,s|=e[n],t&=~l;return s}function Cd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _d(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Oe(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&s)&&(l[i]=Cd(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function El(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tc(){var e=jr;return jr<<=1,!(jr&4194240)&&(jr=64),e}function Vs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oe(t),e[t]=n}function Ed(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Oe(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function ga(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Oe(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var U=0;function nc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rc,ya,sc,lc,ac,Pl=!1,Nr=[],ct=null,ut=null,dt=null,Hn=new Map,Wn=new Map,lt=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pi(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":Hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function wn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=cr(t),t!==null&&ya(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function zd(e,t,n,s,l){switch(t){case"focusin":return ct=wn(ct,e,t,n,s,l),!0;case"dragenter":return ut=wn(ut,e,t,n,s,l),!0;case"mouseover":return dt=wn(dt,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return Hn.set(a,wn(Hn.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Wn.set(a,wn(Wn.get(a)||null,e,t,n,s,l)),!0}return!1}function ic(e){var t=Ct(e.target);if(t!==null){var n=Ft(t);if(n!==null){if(t=n.tag,t===13){if(t=Yo(n),t!==null){e.blockedOn=t,ac(e.priority,function(){sc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);kl=s,n.target.dispatchEvent(s),kl=null}else return t=cr(n),t!==null&&ya(t),e.blockedOn=n,!1;t.shift()}return!0}function mi(e,t,n){Ir(e)&&n.delete(t)}function Ld(){Pl=!1,ct!==null&&Ir(ct)&&(ct=null),ut!==null&&Ir(ut)&&(ut=null),dt!==null&&Ir(dt)&&(dt=null),Hn.forEach(mi),Wn.forEach(mi)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,Pl||(Pl=!0,Se.unstable_scheduleCallback(Se.unstable_NormalPriority,Ld)))}function Qn(e){function t(l){return Nn(l,e)}if(0<Nr.length){Nn(Nr[0],e);for(var n=1;n<Nr.length;n++){var s=Nr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ct!==null&&Nn(ct,e),ut!==null&&Nn(ut,e),dt!==null&&Nn(dt,e),Hn.forEach(t),Wn.forEach(t),n=0;n<lt.length;n++)s=lt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<lt.length&&(n=lt[0],n.blockedOn===null);)ic(n),n.blockedOn===null&&lt.shift()}var nn=tt.ReactCurrentBatchConfig,Zr=!0;function Td(e,t,n,s){var l=U,a=nn.transition;nn.transition=null;try{U=1,va(e,t,n,s)}finally{U=l,nn.transition=a}}function Md(e,t,n,s){var l=U,a=nn.transition;nn.transition=null;try{U=4,va(e,t,n,s)}finally{U=l,nn.transition=a}}function va(e,t,n,s){if(Zr){var l=zl(e,t,n,s);if(l===null)Zs(e,t,s,es,n),pi(e,s);else if(zd(l,e,t,n,s))s.stopPropagation();else if(pi(e,s),t&4&&-1<Pd.indexOf(e)){for(;l!==null;){var a=cr(l);if(a!==null&&rc(a),a=zl(e,t,n,s),a===null&&Zs(e,t,s,es,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Zs(e,t,s,null,n)}}var es=null;function zl(e,t,n,s){if(es=null,e=ha(s),e=Ct(e),e!==null)if(t=Ft(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yo(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return es=e,null}function oc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jd()){case xa:return 1;case Zo:return 4;case Gr:case wd:return 16;case ec:return 536870912;default:return 16}default:return 16}}var it=null,ja=null,Or=null;function cc(){if(Or)return Or;var e,t=ja,n=t.length,s,l="value"in it?it.value:it.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Or=l.slice(e,1<s?1-s:void 0)}function Fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function hi(){return!1}function _e(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?br:hi,this.isPropagationStopped=hi,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=_e(xn),or=K({},xn,{view:0,detail:0}),Ad=_e(or),Hs,Ws,bn,bs=K({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&e.type==="mousemove"?(Hs=e.screenX-bn.screenX,Ws=e.screenY-bn.screenY):Ws=Hs=0,bn=e),Hs)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),xi=_e(bs),Dd=K({},bs,{dataTransfer:0}),Rd=_e(Dd),Id=K({},or,{relatedTarget:0}),Qs=_e(Id),Od=K({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=_e(Od),$d=K({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ud=_e($d),Bd=K({},xn,{data:0}),gi=_e(Bd),Vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wd[e])?!!t[e]:!1}function Na(){return Qd}var qd=K({},or,{key:function(e){if(e.key){var t=Vd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(e){return e.type==="keypress"?Fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kd=_e(qd),Yd=K({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=_e(Yd),Jd=K({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Gd=_e(Jd),Xd=K({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zd=_e(Xd),ef=K({},bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tf=_e(ef),nf=[9,13,27,32],ba=Ge&&"CompositionEvent"in window,Mn=null;Ge&&"documentMode"in document&&(Mn=document.documentMode);var rf=Ge&&"TextEvent"in window&&!Mn,uc=Ge&&(!ba||Mn&&8<Mn&&11>=Mn),vi=" ",ji=!1;function dc(e,t){switch(e){case"keyup":return nf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function sf(e,t){switch(e){case"compositionend":return fc(t);case"keypress":return t.which!==32?null:(ji=!0,vi);case"textInput":return e=t.data,e===vi&&ji?null:e;default:return null}}function lf(e,t){if(Vt)return e==="compositionend"||!ba&&dc(e,t)?(e=cc(),Or=ja=it=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uc&&t.locale!=="ko"?null:t.data;default:return null}}var af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!af[e.type]:t==="textarea"}function pc(e,t,n,s){Ho(s),t=ts(t,"onChange"),0<t.length&&(n=new wa("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var An=null,qn=null;function of(e){kc(e,0)}function ks(e){var t=Qt(e);if(Io(t))return e}function cf(e,t){if(e==="change")return t}var mc=!1;if(Ge){var qs;if(Ge){var Ks="oninput"in document;if(!Ks){var Ni=document.createElement("div");Ni.setAttribute("oninput","return;"),Ks=typeof Ni.oninput=="function"}qs=Ks}else qs=!1;mc=qs&&(!document.documentMode||9<document.documentMode)}function bi(){An&&(An.detachEvent("onpropertychange",hc),qn=An=null)}function hc(e){if(e.propertyName==="value"&&ks(qn)){var t=[];pc(t,qn,e,ha(e)),Ko(of,t)}}function uf(e,t,n){e==="focusin"?(bi(),An=t,qn=n,An.attachEvent("onpropertychange",hc)):e==="focusout"&&bi()}function df(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(qn)}function ff(e,t){if(e==="click")return ks(t)}function pf(e,t){if(e==="input"||e==="change")return ks(t)}function mf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $e=typeof Object.is=="function"?Object.is:mf;function Kn(e,t){if($e(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!fl.call(t,l)||!$e(e[l],t[l]))return!1}return!0}function ki(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Si(e,t){var n=ki(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ki(n)}}function xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(){for(var e=window,t=Kr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kr(e.document)}return t}function ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hf(e){var t=gc(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xc(n.ownerDocument.documentElement,n)){if(s!==null&&ka(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Si(n,a);var i=Si(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xf=Ge&&"documentMode"in document&&11>=document.documentMode,Ht=null,Ll=null,Dn=null,Tl=!1;function Ci(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tl||Ht==null||Ht!==Kr(s)||(s=Ht,"selectionStart"in s&&ka(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Dn&&Kn(Dn,s)||(Dn=s,s=ts(Ll,"onSelect"),0<s.length&&(t=new wa("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ht)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wt={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Ys={},yc={};Ge&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete Wt.animationend.animation,delete Wt.animationiteration.animation,delete Wt.animationstart.animation),"TransitionEvent"in window||delete Wt.transitionend.transition);function Ss(e){if(Ys[e])return Ys[e];if(!Wt[e])return e;var t=Wt[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yc)return Ys[e]=t[n];return e}var vc=Ss("animationend"),jc=Ss("animationiteration"),wc=Ss("animationstart"),Nc=Ss("transitionend"),bc=new Map,_i="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vt(e,t){bc.set(e,t),Ot(t,[e])}for(var Js=0;Js<_i.length;Js++){var Gs=_i[Js],gf=Gs.toLowerCase(),yf=Gs[0].toUpperCase()+Gs.slice(1);vt(gf,"on"+yf)}vt(vc,"onAnimationEnd");vt(jc,"onAnimationIteration");vt(wc,"onAnimationStart");vt("dblclick","onDoubleClick");vt("focusin","onFocus");vt("focusout","onBlur");vt(Nc,"onTransitionEnd");an("onMouseEnter",["mouseout","mouseover"]);an("onMouseLeave",["mouseout","mouseover"]);an("onPointerEnter",["pointerout","pointerover"]);an("onPointerLeave",["pointerout","pointerover"]);Ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ot("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vf=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Ei(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,xd(s,t,void 0,e),e.currentTarget=null}function kc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;Ei(l,o,u),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;Ei(l,o,u),a=c}}}if(Jr)throw e=_l,Jr=!1,_l=null,e}function V(e,t){var n=t[Il];n===void 0&&(n=t[Il]=new Set);var s=e+"__bubble";n.has(s)||(Sc(t,e,2,!1),n.add(s))}function Xs(e,t,n){var s=0;t&&(s|=4),Sc(n,e,s,t)}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[Sr]){e[Sr]=!0,To.forEach(function(n){n!=="selectionchange"&&(vf.has(n)||Xs(n,!1,e),Xs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sr]||(t[Sr]=!0,Xs("selectionchange",!1,t))}}function Sc(e,t,n,s){switch(oc(t)){case 1:var l=Td;break;case 4:l=Md;break;default:l=va}n=l.bind(null,t,n,e),l=void 0,!Cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Zs(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Ct(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}Ko(function(){var u=a,h=ha(n),m=[];e:{var g=bc.get(e);if(g!==void 0){var f=wa,w=e;switch(e){case"keypress":if(Fr(n)===0)break e;case"keydown":case"keyup":f=Kd;break;case"focusin":w="focus",f=Qs;break;case"focusout":w="blur",f=Qs;break;case"beforeblur":case"afterblur":f=Qs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Gd;break;case vc:case jc:case wc:f=Fd;break;case Nc:f=Zd;break;case"scroll":f=Ad;break;case"wheel":f=tf;break;case"copy":case"cut":case"paste":f=Ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=yi}var b=(t&4)!==0,C=!b&&e==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var d=u,p;d!==null;){p=d;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,x!==null&&(y=Vn(d,x),y!=null&&b.push(Jn(d,y,p)))),C)break;d=d.return}0<b.length&&(g=new f(g,w,null,n,h),m.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",g&&n!==kl&&(w=n.relatedTarget||n.fromElement)&&(Ct(w)||w[Xe]))break e;if((f||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,f?(w=n.relatedTarget||n.toElement,f=u,w=w?Ct(w):null,w!==null&&(C=Ft(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=u),f!==w)){if(b=xi,y="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(b=yi,y="onPointerLeave",x="onPointerEnter",d="pointer"),C=f==null?g:Qt(f),p=w==null?g:Qt(w),g=new b(y,d+"leave",f,n,h),g.target=C,g.relatedTarget=p,y=null,Ct(h)===u&&(b=new b(x,d+"enter",w,n,h),b.target=p,b.relatedTarget=C,y=b),C=y,f&&w)t:{for(b=f,x=w,d=0,p=b;p;p=$t(p))d++;for(p=0,y=x;y;y=$t(y))p++;for(;0<d-p;)b=$t(b),d--;for(;0<p-d;)x=$t(x),p--;for(;d--;){if(b===x||x!==null&&b===x.alternate)break t;b=$t(b),x=$t(x)}b=null}else b=null;f!==null&&Pi(m,g,f,b,!1),w!==null&&C!==null&&Pi(m,C,w,b,!0)}}e:{if(g=u?Qt(u):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var v=cf;else if(wi(g))if(mc)v=pf;else{v=df;var j=uf}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(v=ff);if(v&&(v=v(e,u))){pc(m,v,n,h);break e}j&&j(e,g,u),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&vl(g,"number",g.value)}switch(j=u?Qt(u):window,e){case"focusin":(wi(j)||j.contentEditable==="true")&&(Ht=j,Ll=u,Dn=null);break;case"focusout":Dn=Ll=Ht=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Ci(m,n,h);break;case"selectionchange":if(xf)break;case"keydown":case"keyup":Ci(m,n,h)}var k;if(ba)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Vt?dc(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(uc&&n.locale!=="ko"&&(Vt||E!=="onCompositionStart"?E==="onCompositionEnd"&&Vt&&(k=cc()):(it=h,ja="value"in it?it.value:it.textContent,Vt=!0)),j=ts(u,E),0<j.length&&(E=new gi(E,e,null,n,h),m.push({event:E,listeners:j}),k?E.data=k:(k=fc(n),k!==null&&(E.data=k)))),(k=rf?sf(e,n):lf(e,n))&&(u=ts(u,"onBeforeInput"),0<u.length&&(h=new gi("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=k))}kc(m,t)})}function Jn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ts(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Vn(e,n),a!=null&&s.unshift(Jn(e,a,l)),a=Vn(e,t),a!=null&&s.push(Jn(e,a,l))),e=e.return}return s}function $t(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pi(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,l?(c=Vn(n,a),c!=null&&i.unshift(Jn(n,c,o))):l||(c=Vn(n,a),c!=null&&i.push(Jn(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var jf=/\r\n?/g,wf=/\u0000|\uFFFD/g;function zi(e){return(typeof e=="string"?e:""+e).replace(jf,`
`).replace(wf,"")}function Cr(e,t,n){if(t=zi(t),zi(e)!==t&&n)throw Error(S(425))}function ns(){}var Ml=null,Al=null;function Dl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,Nf=typeof clearTimeout=="function"?clearTimeout:void 0,Li=typeof Promise=="function"?Promise:void 0,bf=typeof queueMicrotask=="function"?queueMicrotask:typeof Li<"u"?function(e){return Li.resolve(null).then(e).catch(kf)}:Rl;function kf(e){setTimeout(function(){throw e})}function el(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Qn(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Qn(t)}function ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ti(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+gn,Gn="__reactProps$"+gn,Xe="__reactContainer$"+gn,Il="__reactEvents$"+gn,Sf="__reactListeners$"+gn,Cf="__reactHandles$"+gn;function Ct(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xe]||n[Ve]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ti(e);e!==null;){if(n=e[Ve])return n;e=Ti(e)}return t}e=n,n=e.parentNode}return null}function cr(e){return e=e[Ve]||e[Xe],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function Cs(e){return e[Gn]||null}var Ol=[],qt=-1;function jt(e){return{current:e}}function H(e){0>qt||(e.current=Ol[qt],Ol[qt]=null,qt--)}function B(e,t){qt++,Ol[qt]=e.current,e.current=t}var yt={},ue=jt(yt),ge=jt(!1),Tt=yt;function on(e,t){var n=e.type.contextTypes;if(!n)return yt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ye(e){return e=e.childContextTypes,e!=null}function rs(){H(ge),H(ue)}function Mi(e,t,n){if(ue.current!==yt)throw Error(S(168));B(ue,t),B(ge,n)}function Cc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(S(108,cd(e)||"Unknown",l));return K({},n,s)}function ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yt,Tt=ue.current,B(ue,e),B(ge,ge.current),!0}function Ai(e,t,n){var s=e.stateNode;if(!s)throw Error(S(169));n?(e=Cc(e,t,Tt),s.__reactInternalMemoizedMergedChildContext=e,H(ge),H(ue),B(ue,e)):H(ge),B(ge,n)}var qe=null,_s=!1,tl=!1;function _c(e){qe===null?qe=[e]:qe.push(e)}function _f(e){_s=!0,_c(e)}function wt(){if(!tl&&qe!==null){tl=!0;var e=0,t=U;try{var n=qe;for(U=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}qe=null,_s=!1}catch(l){throw qe!==null&&(qe=qe.slice(e+1)),Xo(xa,wt),l}finally{U=t,tl=!1}}return null}var Kt=[],Yt=0,ls=null,as=0,Ee=[],Pe=0,Mt=null,Ke=1,Ye="";function kt(e,t){Kt[Yt++]=as,Kt[Yt++]=ls,ls=e,as=t}function Ec(e,t,n){Ee[Pe++]=Ke,Ee[Pe++]=Ye,Ee[Pe++]=Mt,Mt=e;var s=Ke;e=Ye;var l=32-Oe(s)-1;s&=~(1<<l),n+=1;var a=32-Oe(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Ke=1<<32-Oe(t)+l|n<<l|s,Ye=a+e}else Ke=1<<a|n<<l|s,Ye=e}function Sa(e){e.return!==null&&(kt(e,1),Ec(e,1,0))}function Ca(e){for(;e===ls;)ls=Kt[--Yt],Kt[Yt]=null,as=Kt[--Yt],Kt[Yt]=null;for(;e===Mt;)Mt=Ee[--Pe],Ee[Pe]=null,Ye=Ee[--Pe],Ee[Pe]=null,Ke=Ee[--Pe],Ee[Pe]=null}var ke=null,be=null,W=!1,Ie=null;function Pc(e,t){var n=ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Di(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ke=e,be=ft(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ke=e,be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mt!==null?{id:Ke,overflow:Ye}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ke=e,be=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(W){var t=be;if(t){var n=t;if(!Di(e,t)){if(Fl(e))throw Error(S(418));t=ft(n.nextSibling);var s=ke;t&&Di(e,t)?Pc(s,n):(e.flags=e.flags&-4097|2,W=!1,ke=e)}}else{if(Fl(e))throw Error(S(418));e.flags=e.flags&-4097|2,W=!1,ke=e}}}function Ri(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ke=e}function _r(e){if(e!==ke)return!1;if(!W)return Ri(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dl(e.type,e.memoizedProps)),t&&(t=be)){if(Fl(e))throw zc(),Error(S(418));for(;t;)Pc(e,t),t=ft(t.nextSibling)}if(Ri(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){be=ft(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}be=null}}else be=ke?ft(e.stateNode.nextSibling):null;return!0}function zc(){for(var e=be;e;)e=ft(e.nextSibling)}function cn(){be=ke=null,W=!1}function _a(e){Ie===null?Ie=[e]:Ie.push(e)}var Ef=tt.ReactCurrentBatchConfig;function kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var s=n.stateNode}if(!s)throw Error(S(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Er(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ii(e){var t=e._init;return t(e._payload)}function Lc(e){function t(x,d){if(e){var p=x.deletions;p===null?(x.deletions=[d],x.flags|=16):p.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function s(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function l(x,d){return x=xt(x,d),x.index=0,x.sibling=null,x}function a(x,d,p){return x.index=p,e?(p=x.alternate,p!==null?(p=p.index,p<d?(x.flags|=2,d):p):(x.flags|=2,d)):(x.flags|=1048576,d)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,d,p,y){return d===null||d.tag!==6?(d=ol(p,x.mode,y),d.return=x,d):(d=l(d,p),d.return=x,d)}function c(x,d,p,y){var v=p.type;return v===Bt?h(x,d,p.props.children,y,p.key):d!==null&&(d.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===rt&&Ii(v)===d.type)?(y=l(d,p.props),y.ref=kn(x,d,p),y.return=x,y):(y=Qr(p.type,p.key,p.props,null,x.mode,y),y.ref=kn(x,d,p),y.return=x,y)}function u(x,d,p,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=cl(p,x.mode,y),d.return=x,d):(d=l(d,p.children||[]),d.return=x,d)}function h(x,d,p,y,v){return d===null||d.tag!==7?(d=zt(p,x.mode,y,v),d.return=x,d):(d=l(d,p),d.return=x,d)}function m(x,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ol(""+d,x.mode,p),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case gr:return p=Qr(d.type,d.key,d.props,null,x.mode,p),p.ref=kn(x,null,d),p.return=x,p;case Ut:return d=cl(d,x.mode,p),d.return=x,d;case rt:var y=d._init;return m(x,y(d._payload),p)}if(En(d)||vn(d))return d=zt(d,x.mode,p,null),d.return=x,d;Er(x,d)}return null}function g(x,d,p,y){var v=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return v!==null?null:o(x,d,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gr:return p.key===v?c(x,d,p,y):null;case Ut:return p.key===v?u(x,d,p,y):null;case rt:return v=p._init,g(x,d,v(p._payload),y)}if(En(p)||vn(p))return v!==null?null:h(x,d,p,y,null);Er(x,p)}return null}function f(x,d,p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return x=x.get(p)||null,o(d,x,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gr:return x=x.get(y.key===null?p:y.key)||null,c(d,x,y,v);case Ut:return x=x.get(y.key===null?p:y.key)||null,u(d,x,y,v);case rt:var j=y._init;return f(x,d,p,j(y._payload),v)}if(En(y)||vn(y))return x=x.get(p)||null,h(d,x,y,v,null);Er(d,y)}return null}function w(x,d,p,y){for(var v=null,j=null,k=d,E=d=0,I=null;k!==null&&E<p.length;E++){k.index>E?(I=k,k=null):I=k.sibling;var A=g(x,k,p[E],y);if(A===null){k===null&&(k=I);break}e&&k&&A.alternate===null&&t(x,k),d=a(A,d,E),j===null?v=A:j.sibling=A,j=A,k=I}if(E===p.length)return n(x,k),W&&kt(x,E),v;if(k===null){for(;E<p.length;E++)k=m(x,p[E],y),k!==null&&(d=a(k,d,E),j===null?v=k:j.sibling=k,j=k);return W&&kt(x,E),v}for(k=s(x,k);E<p.length;E++)I=f(k,x,E,p[E],y),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?E:I.key),d=a(I,d,E),j===null?v=I:j.sibling=I,j=I);return e&&k.forEach(function(L){return t(x,L)}),W&&kt(x,E),v}function b(x,d,p,y){var v=vn(p);if(typeof v!="function")throw Error(S(150));if(p=v.call(p),p==null)throw Error(S(151));for(var j=v=null,k=d,E=d=0,I=null,A=p.next();k!==null&&!A.done;E++,A=p.next()){k.index>E?(I=k,k=null):I=k.sibling;var L=g(x,k,A.value,y);if(L===null){k===null&&(k=I);break}e&&k&&L.alternate===null&&t(x,k),d=a(L,d,E),j===null?v=L:j.sibling=L,j=L,k=I}if(A.done)return n(x,k),W&&kt(x,E),v;if(k===null){for(;!A.done;E++,A=p.next())A=m(x,A.value,y),A!==null&&(d=a(A,d,E),j===null?v=A:j.sibling=A,j=A);return W&&kt(x,E),v}for(k=s(x,k);!A.done;E++,A=p.next())A=f(k,x,E,A.value,y),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?E:A.key),d=a(A,d,E),j===null?v=A:j.sibling=A,j=A);return e&&k.forEach(function($){return t(x,$)}),W&&kt(x,E),v}function C(x,d,p,y){if(typeof p=="object"&&p!==null&&p.type===Bt&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case gr:e:{for(var v=p.key,j=d;j!==null;){if(j.key===v){if(v=p.type,v===Bt){if(j.tag===7){n(x,j.sibling),d=l(j,p.props.children),d.return=x,x=d;break e}}else if(j.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===rt&&Ii(v)===j.type){n(x,j.sibling),d=l(j,p.props),d.ref=kn(x,j,p),d.return=x,x=d;break e}n(x,j);break}else t(x,j);j=j.sibling}p.type===Bt?(d=zt(p.props.children,x.mode,y,p.key),d.return=x,x=d):(y=Qr(p.type,p.key,p.props,null,x.mode,y),y.ref=kn(x,d,p),y.return=x,x=y)}return i(x);case Ut:e:{for(j=p.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(x,d.sibling),d=l(d,p.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=cl(p,x.mode,y),d.return=x,x=d}return i(x);case rt:return j=p._init,C(x,d,j(p._payload),y)}if(En(p))return w(x,d,p,y);if(vn(p))return b(x,d,p,y);Er(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(x,d.sibling),d=l(d,p),d.return=x,x=d):(n(x,d),d=ol(p,x.mode,y),d.return=x,x=d),i(x)):n(x,d)}return C}var un=Lc(!0),Tc=Lc(!1),is=jt(null),os=null,Jt=null,Ea=null;function Pa(){Ea=Jt=os=null}function za(e){var t=is.current;H(is),e._currentValue=t}function Ul(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function rn(e,t){os=e,Ea=Jt=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xe=!0),e.firstContext=null)}function Te(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},Jt===null){if(os===null)throw Error(S(308));Jt=e,os.dependencies={lanes:0,firstContext:e}}else Jt=Jt.next=e;return t}var _t=null;function La(e){_t===null?_t=[e]:_t.push(e)}function Mc(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,La(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ze(e,s)}function Ze(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var st=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Je(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,F&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ze(e,n)}return l=s.interleaved,l===null?(t.next=t,La(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ze(e,n)}function $r(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ga(e,n)}}function Oi(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cs(e,t,n,s){var l=e.updateQueue;st=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=l.baseState;i=0,h=u=c=null,o=a;do{var g=o.lane,f=o.eventTime;if((s&g)===g){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,b=o;switch(g=t,f=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){m=w.call(f,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,g=typeof w=="function"?w.call(f,m,g):w,g==null)break e;m=K({},m,g);break e;case 2:st=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else f={eventTime:f,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,c=m):h=h.next=f,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Dt|=i,e.lanes=i,e.memoizedState=m}}function Fi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(S(191,l));l.call(s)}}}var ur={},We=jt(ur),Xn=jt(ur),Zn=jt(ur);function Et(e){if(e===ur)throw Error(S(174));return e}function Ma(e,t){switch(B(Zn,t),B(Xn,e),B(We,ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wl(t,e)}H(We),B(We,t)}function dn(){H(We),H(Xn),H(Zn)}function Dc(e){Et(Zn.current);var t=Et(We.current),n=wl(t,e.type);t!==n&&(B(Xn,e),B(We,n))}function Aa(e){Xn.current===e&&(H(We),H(Xn))}var Q=jt(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function Da(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var Ur=tt.ReactCurrentDispatcher,rl=tt.ReactCurrentBatchConfig,At=0,q=null,Z=null,ne=null,ds=!1,Rn=!1,er=0,Pf=0;function ie(){throw Error(S(321))}function Ra(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$e(e[n],t[n]))return!1;return!0}function Ia(e,t,n,s,l,a){if(At=a,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ur.current=e===null||e.memoizedState===null?Mf:Af,e=n(s,l),Rn){a=0;do{if(Rn=!1,er=0,25<=a)throw Error(S(301));a+=1,ne=Z=null,t.updateQueue=null,Ur.current=Df,e=n(s,l)}while(Rn)}if(Ur.current=fs,t=Z!==null&&Z.next!==null,At=0,ne=Z=q=null,ds=!1,t)throw Error(S(300));return e}function Oa(){var e=er!==0;return er=0,e}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?q.memoizedState=ne=e:ne=ne.next=e,ne}function Me(){if(Z===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=Z.next;var t=ne===null?q.memoizedState:ne.next;if(t!==null)ne=t,Z=e;else{if(e===null)throw Error(S(310));Z=e,e={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ne===null?q.memoizedState=ne=e:ne=ne.next=e}return ne}function tr(e,t){return typeof t=="function"?t(e):t}function sl(e){var t=Me(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var s=Z,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,u=a;do{var h=u.lane;if((At&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,i=s):c=c.next=m,q.lanes|=h,Dt|=h}u=u.next}while(u!==null&&u!==a);c===null?i=s:c.next=o,$e(s,t.memoizedState)||(xe=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,q.lanes|=a,Dt|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ll(e){var t=Me(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);$e(a,t.memoizedState)||(xe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Rc(){}function Ic(e,t){var n=q,s=Me(),l=t(),a=!$e(s.memoizedState,l);if(a&&(s.memoizedState=l,xe=!0),s=s.queue,Fa($c.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||ne!==null&&ne.memoizedState.tag&1){if(n.flags|=2048,nr(9,Fc.bind(null,n,s,l,t),void 0,null),re===null)throw Error(S(349));At&30||Oc(n,t,l)}return l}function Oc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fc(e,t,n,s){t.value=n,t.getSnapshot=s,Uc(t)&&Bc(e)}function $c(e,t,n){return n(function(){Uc(t)&&Bc(e)})}function Uc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$e(e,n)}catch{return!0}}function Bc(e){var t=Ze(e,1);t!==null&&Fe(t,e,1,-1)}function $i(e){var t=Be();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t.queue=e,e=e.dispatch=Tf.bind(null,q,e),[t.memoizedState,e]}function nr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Vc(){return Me().memoizedState}function Br(e,t,n,s){var l=Be();q.flags|=e,l.memoizedState=nr(1|t,n,void 0,s===void 0?null:s)}function Es(e,t,n,s){var l=Me();s=s===void 0?null:s;var a=void 0;if(Z!==null){var i=Z.memoizedState;if(a=i.destroy,s!==null&&Ra(s,i.deps)){l.memoizedState=nr(t,n,a,s);return}}q.flags|=e,l.memoizedState=nr(1|t,n,a,s)}function Ui(e,t){return Br(8390656,8,e,t)}function Fa(e,t){return Es(2048,8,e,t)}function Hc(e,t){return Es(4,2,e,t)}function Wc(e,t){return Es(4,4,e,t)}function Qc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qc(e,t,n){return n=n!=null?n.concat([e]):null,Es(4,4,Qc.bind(null,t,e),n)}function $a(){}function Kc(e,t){var n=Me();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ra(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Yc(e,t){var n=Me();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ra(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Jc(e,t,n){return At&21?($e(n,t)||(n=tc(),q.lanes|=n,Dt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xe=!0),e.memoizedState=n)}function zf(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var s=rl.transition;rl.transition={};try{e(!1),t()}finally{U=n,rl.transition=s}}function Gc(){return Me().memoizedState}function Lf(e,t,n){var s=ht(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Xc(e))Zc(t,n);else if(n=Mc(e,t,n,s),n!==null){var l=fe();Fe(n,e,s,l),eu(n,t,s)}}function Tf(e,t,n){var s=ht(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xc(e))Zc(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,$e(o,i)){var c=t.interleaved;c===null?(l.next=l,La(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Mc(e,t,l,s),n!==null&&(l=fe(),Fe(n,e,s,l),eu(n,t,s))}}function Xc(e){var t=e.alternate;return e===q||t!==null&&t===q}function Zc(e,t){Rn=ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ga(e,n)}}var fs={readContext:Te,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useInsertionEffect:ie,useLayoutEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useMutableSource:ie,useSyncExternalStore:ie,useId:ie,unstable_isNewReconciler:!1},Mf={readContext:Te,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:Te,useEffect:Ui,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Br(4194308,4,Qc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Br(4194308,4,e,t)},useInsertionEffect:function(e,t){return Br(4,2,e,t)},useMemo:function(e,t){var n=Be();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Be();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Lf.bind(null,q,e),[s.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:$i,useDebugValue:$a,useDeferredValue:function(e){return Be().memoizedState=e},useTransition:function(){var e=$i(!1),t=e[0];return e=zf.bind(null,e[1]),Be().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=q,l=Be();if(W){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),re===null)throw Error(S(349));At&30||Oc(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Ui($c.bind(null,s,a,e),[e]),s.flags|=2048,nr(9,Fc.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Be(),t=re.identifierPrefix;if(W){var n=Ye,s=Ke;n=(s&~(1<<32-Oe(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Af={readContext:Te,useCallback:Kc,useContext:Te,useEffect:Fa,useImperativeHandle:qc,useInsertionEffect:Hc,useLayoutEffect:Wc,useMemo:Yc,useReducer:sl,useRef:Vc,useState:function(){return sl(tr)},useDebugValue:$a,useDeferredValue:function(e){var t=Me();return Jc(t,Z.memoizedState,e)},useTransition:function(){var e=sl(tr)[0],t=Me().memoizedState;return[e,t]},useMutableSource:Rc,useSyncExternalStore:Ic,useId:Gc,unstable_isNewReconciler:!1},Df={readContext:Te,useCallback:Kc,useContext:Te,useEffect:Fa,useImperativeHandle:qc,useInsertionEffect:Hc,useLayoutEffect:Wc,useMemo:Yc,useReducer:ll,useRef:Vc,useState:function(){return ll(tr)},useDebugValue:$a,useDeferredValue:function(e){var t=Me();return Z===null?t.memoizedState=e:Jc(t,Z.memoizedState,e)},useTransition:function(){var e=ll(tr)[0],t=Me().memoizedState;return[e,t]},useMutableSource:Rc,useSyncExternalStore:Ic,useId:Gc,unstable_isNewReconciler:!1};function De(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ps={isMounted:function(e){return(e=e._reactInternals)?Ft(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=fe(),l=ht(e),a=Je(s,l);a.payload=t,n!=null&&(a.callback=n),t=pt(e,a,l),t!==null&&(Fe(t,e,l,s),$r(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=fe(),l=ht(e),a=Je(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=pt(e,a,l),t!==null&&(Fe(t,e,l,s),$r(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fe(),s=ht(e),l=Je(n,s);l.tag=2,t!=null&&(l.callback=t),t=pt(e,l,s),t!==null&&(Fe(t,e,s,n),$r(t,e,s))}};function Bi(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Kn(n,s)||!Kn(l,a):!0}function tu(e,t,n){var s=!1,l=yt,a=t.contextType;return typeof a=="object"&&a!==null?a=Te(a):(l=ye(t)?Tt:ue.current,s=t.contextTypes,a=(s=s!=null)?on(e,l):yt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vi(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function Vl(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ta(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Te(a):(a=ye(t)?Tt:ue.current,l.context=on(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Bl(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ps.enqueueReplaceState(l,l.state,null),cs(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var n="",s=t;do n+=od(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function al(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rf=typeof WeakMap=="function"?WeakMap:Map;function nu(e,t,n){n=Je(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ms||(ms=!0,ea=s),Hl(e,t)},n}function ru(e,t,n){n=Je(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Hl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hl(e,t),typeof s!="function"&&(mt===null?mt=new Set([this]):mt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hi(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rf;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Jf.bind(null,e,t,n),t.then(e,e))}function Wi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qi(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Je(-1,1),t.tag=2,pt(n,t,1))),n.lanes|=1),e)}var If=tt.ReactCurrentOwner,xe=!1;function de(e,t,n,s){t.child=e===null?Tc(t,null,n,s):un(t,e.child,n,s)}function qi(e,t,n,s,l){n=n.render;var a=t.ref;return rn(t,l),s=Ia(e,t,n,s,a,l),n=Oa(),e!==null&&!xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,et(e,t,l)):(W&&n&&Sa(t),t.flags|=1,de(e,t,s,l),t.child)}function Ki(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ka(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,su(e,t,a,s,l)):(e=Qr(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Kn,n(i,s)&&e.ref===t.ref)return et(e,t,l)}return t.flags|=1,e=xt(a,s),e.ref=t.ref,e.return=t,t.child=e}function su(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Kn(a,s)&&e.ref===t.ref)if(xe=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(xe=!0);else return t.lanes=e.lanes,et(e,t,l)}return Wl(e,t,n,s,l)}function lu(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Xt,Ne),Ne|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(Xt,Ne),Ne|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,B(Xt,Ne),Ne|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,B(Xt,Ne),Ne|=s;return de(e,t,l,n),t.child}function au(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,s,l){var a=ye(n)?Tt:ue.current;return a=on(t,a),rn(t,l),n=Ia(e,t,n,s,a,l),s=Oa(),e!==null&&!xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,et(e,t,l)):(W&&s&&Sa(t),t.flags|=1,de(e,t,n,l),t.child)}function Yi(e,t,n,s,l){if(ye(n)){var a=!0;ss(t)}else a=!1;if(rn(t,l),t.stateNode===null)Vr(e,t),tu(t,n,s),Vl(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Te(u):(u=ye(n)?Tt:ue.current,u=on(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==u)&&Vi(t,i,s,u),st=!1;var g=t.memoizedState;i.state=g,cs(t,s,i,l),c=t.memoizedState,o!==s||g!==c||ge.current||st?(typeof h=="function"&&(Bl(t,n,h,s),c=t.memoizedState),(o=st||Bi(t,n,o,s,g,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Ac(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:De(t.type,o),i.props=u,m=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Te(c):(c=ye(n)?Tt:ue.current,c=on(t,c));var f=n.getDerivedStateFromProps;(h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||g!==c)&&Vi(t,i,s,c),st=!1,g=t.memoizedState,i.state=g,cs(t,s,i,l);var w=t.memoizedState;o!==m||g!==w||ge.current||st?(typeof f=="function"&&(Bl(t,n,f,s),w=t.memoizedState),(u=st||Bi(t,n,u,s,g,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),i.props=s,i.state=w,i.context=c,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Ql(e,t,n,s,a,l)}function Ql(e,t,n,s,l,a){au(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&Ai(t,n,!1),et(e,t,a);s=t.stateNode,If.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=un(t,e.child,null,a),t.child=un(t,null,o,a)):de(e,t,o,a),t.memoizedState=s.state,l&&Ai(t,n,!0),t.child}function iu(e){var t=e.stateNode;t.pendingContext?Mi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(e,t.context,!1),Ma(e,t.containerInfo)}function Ji(e,t,n,s,l){return cn(),_a(l),t.flags|=256,de(e,t,n,s),t.child}var ql={dehydrated:null,treeContext:null,retryLane:0};function Kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ou(e,t,n){var s=t.pendingProps,l=Q.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),B(Q,l&1),e===null)return $l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ts(i,s,0,null),e=zt(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Kl(n),t.memoizedState=ql,e):Ua(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Of(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=xt(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=xt(o,a):(a=zt(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Kl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ql,s}return a=e.child,e=a.sibling,s=xt(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ua(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pr(e,t,n,s){return s!==null&&_a(s),un(t,e.child,null,n),e=Ua(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Of(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=al(Error(S(422))),Pr(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Ts({mode:"visible",children:s.children},l,0,null),a=zt(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&un(t,e.child,null,i),t.child.memoizedState=Kl(i),t.memoizedState=ql,a);if(!(t.mode&1))return Pr(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(S(419)),s=al(a,s,void 0),Pr(e,t,i,s)}if(o=(i&e.childLanes)!==0,xe||o){if(s=re,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Ze(e,l),Fe(s,e,l,-1))}return qa(),s=al(Error(S(421))),Pr(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gf.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,be=ft(l.nextSibling),ke=t,W=!0,Ie=null,e!==null&&(Ee[Pe++]=Ke,Ee[Pe++]=Ye,Ee[Pe++]=Mt,Ke=e.id,Ye=e.overflow,Mt=t),t=Ua(t,s.children),t.flags|=4096,t)}function Gi(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ul(e.return,t,n)}function il(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function cu(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(de(e,t,s.children,n),s=Q.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gi(e,n,t);else if(e.tag===19)Gi(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(B(Q,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&us(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),il(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&us(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}il(t,!0,n,null,a);break;case"together":il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ff(e,t,n){switch(t.tag){case 3:iu(t),cn();break;case 5:Dc(t);break;case 1:ye(t.type)&&ss(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;B(is,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(B(Q,Q.current&1),t.flags|=128,null):n&t.child.childLanes?ou(e,t,n):(B(Q,Q.current&1),e=et(e,t,n),e!==null?e.sibling:null);B(Q,Q.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return cu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),B(Q,Q.current),s)break;return null;case 22:case 23:return t.lanes=0,lu(e,t,n)}return et(e,t,n)}var uu,Yl,du,fu;uu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yl=function(){};du=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Et(We.current);var a=null;switch(n){case"input":l=gl(e,l),s=gl(e,s),a=[];break;case"select":l=K({},l,{value:void 0}),s=K({},s,{value:void 0}),a=[];break;case"textarea":l=jl(e,l),s=jl(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ns)}Nl(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Un.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Un.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&V("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};fu=function(e,t,n,s){n!==s&&(t.flags|=4)};function Sn(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function $f(e,t,n){var s=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(t),null;case 1:return ye(t.type)&&rs(),oe(t),null;case 3:return s=t.stateNode,dn(),H(ge),H(ue),Da(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_r(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ie!==null&&(ra(Ie),Ie=null))),Yl(e,t),oe(t),null;case 5:Aa(t);var l=Et(Zn.current);if(n=t.type,e!==null&&t.stateNode!=null)du(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(S(166));return oe(t),null}if(e=Et(We.current),_r(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Ve]=t,s[Gn]=a,e=(t.mode&1)!==0,n){case"dialog":V("cancel",s),V("close",s);break;case"iframe":case"object":case"embed":V("load",s);break;case"video":case"audio":for(l=0;l<zn.length;l++)V(zn[l],s);break;case"source":V("error",s);break;case"img":case"image":case"link":V("error",s),V("load",s);break;case"details":V("toggle",s);break;case"input":ai(s,a),V("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},V("invalid",s);break;case"textarea":oi(s,a),V("invalid",s)}Nl(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Cr(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Cr(s.textContent,o,e),l=["children",""+o]):Un.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&V("scroll",s)}switch(n){case"input":yr(s),ii(s,a,!0);break;case"textarea":yr(s),ci(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=ns)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$o(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Ve]=t,e[Gn]=s,uu(e,t,!1,!1),t.stateNode=e;e:{switch(i=bl(n,s),n){case"dialog":V("cancel",e),V("close",e),l=s;break;case"iframe":case"object":case"embed":V("load",e),l=s;break;case"video":case"audio":for(l=0;l<zn.length;l++)V(zn[l],e);l=s;break;case"source":V("error",e),l=s;break;case"img":case"image":case"link":V("error",e),V("load",e),l=s;break;case"details":V("toggle",e),l=s;break;case"input":ai(e,s),l=gl(e,s),V("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=K({},s,{value:void 0}),V("invalid",e);break;case"textarea":oi(e,s),l=jl(e,s),V("invalid",e);break;default:l=s}Nl(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Vo(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Uo(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bn(e,c):typeof c=="number"&&Bn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Un.hasOwnProperty(a)?c!=null&&a==="onScroll"&&V("scroll",e):c!=null&&da(e,a,c,i))}switch(n){case"input":yr(e),ii(e,s,!1);break;case"textarea":yr(e),ci(e);break;case"option":s.value!=null&&e.setAttribute("value",""+gt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Zt(e,!!s.multiple,a,!1):s.defaultValue!=null&&Zt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ns)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return oe(t),null;case 6:if(e&&t.stateNode!=null)fu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(S(166));if(n=Et(Zn.current),Et(We.current),_r(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ve]=t,(a=s.nodeValue!==n)&&(e=ke,e!==null))switch(e.tag){case 3:Cr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cr(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ve]=t,t.stateNode=s}return oe(t),null;case 13:if(H(Q),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&be!==null&&t.mode&1&&!(t.flags&128))zc(),cn(),t.flags|=98560,a=!1;else if(a=_r(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(S(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(S(317));a[Ve]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),a=!1}else Ie!==null&&(ra(Ie),Ie=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?ee===0&&(ee=3):qa())),t.updateQueue!==null&&(t.flags|=4),oe(t),null);case 4:return dn(),Yl(e,t),e===null&&Yn(t.stateNode.containerInfo),oe(t),null;case 10:return za(t.type._context),oe(t),null;case 17:return ye(t.type)&&rs(),oe(t),null;case 19:if(H(Q),a=t.memoizedState,a===null)return oe(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Sn(a,!1);else{if(ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=us(e),i!==null){for(t.flags|=128,Sn(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(Q,Q.current&1|2),t.child}e=e.sibling}a.tail!==null&&G()>pn&&(t.flags|=128,s=!0,Sn(a,!1),t.lanes=4194304)}else{if(!s)if(e=us(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!W)return oe(t),null}else 2*G()-a.renderingStartTime>pn&&n!==1073741824&&(t.flags|=128,s=!0,Sn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=G(),t.sibling=null,n=Q.current,B(Q,s?n&1|2:n&1),t):(oe(t),null);case 22:case 23:return Qa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ne&1073741824&&(oe(t),t.subtreeFlags&6&&(t.flags|=8192)):oe(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Uf(e,t){switch(Ca(t),t.tag){case 1:return ye(t.type)&&rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),H(ge),H(ue),Da(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Aa(t),null;case 13:if(H(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Q),null;case 4:return dn(),null;case 10:return za(t.type._context),null;case 22:case 23:return Qa(),null;case 24:return null;default:return null}}var zr=!1,ce=!1,Bf=typeof WeakSet=="function"?WeakSet:Set,z=null;function Gt(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Y(e,t,s)}else n.current=null}function Jl(e,t,n){try{n()}catch(s){Y(e,t,s)}}var Xi=!1;function Vf(e,t){if(Ml=Zr,e=gc(),ka(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,h=0,m=e,g=null;t:for(;;){for(var f;m!==n||l!==0&&m.nodeType!==3||(o=i+l),m!==a||s!==0&&m.nodeType!==3||(c=i+s),m.nodeType===3&&(i+=m.nodeValue.length),(f=m.firstChild)!==null;)g=m,m=f;for(;;){if(m===e)break t;if(g===n&&++u===l&&(o=i),g===a&&++h===s&&(c=i),(f=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=f}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Al={focusedElem:e,selectionRange:n},Zr=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,C=w.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:De(t.type,b),C);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(y){Y(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return w=Xi,Xi=!1,w}function In(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Jl(t,n,a)}l=l.next}while(l!==s)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Gl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pu(e){var t=e.alternate;t!==null&&(e.alternate=null,pu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ve],delete t[Gn],delete t[Il],delete t[Sf],delete t[Cf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mu(e){return e.tag===5||e.tag===3||e.tag===4}function Zi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ns));else if(s!==4&&(e=e.child,e!==null))for(Xl(e,t,n),e=e.sibling;e!==null;)Xl(e,t,n),e=e.sibling}function Zl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Zl(e,t,n),e=e.sibling;e!==null;)Zl(e,t,n),e=e.sibling}var se=null,Re=!1;function nt(e,t,n){for(n=n.child;n!==null;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Ns,n)}catch{}switch(n.tag){case 5:ce||Gt(n,t);case 6:var s=se,l=Re;se=null,nt(e,t,n),se=s,Re=l,se!==null&&(Re?(e=se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(Re?(e=se,n=n.stateNode,e.nodeType===8?el(e.parentNode,n):e.nodeType===1&&el(e,n),Qn(e)):el(se,n.stateNode));break;case 4:s=se,l=Re,se=n.stateNode.containerInfo,Re=!0,nt(e,t,n),se=s,Re=l;break;case 0:case 11:case 14:case 15:if(!ce&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Jl(n,t,i),l=l.next}while(l!==s)}nt(e,t,n);break;case 1:if(!ce&&(Gt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Y(n,t,o)}nt(e,t,n);break;case 21:nt(e,t,n);break;case 22:n.mode&1?(ce=(s=ce)||n.memoizedState!==null,nt(e,t,n),ce=s):nt(e,t,n);break;default:nt(e,t,n)}}function eo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bf),t.forEach(function(s){var l=Xf.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Ae(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:se=o.stateNode,Re=!1;break e;case 3:se=o.stateNode.containerInfo,Re=!0;break e;case 4:se=o.stateNode.containerInfo,Re=!0;break e}o=o.return}if(se===null)throw Error(S(160));hu(a,i,l),se=null,Re=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Y(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xu(t,e),t=t.sibling}function xu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ae(t,e),Ue(e),s&4){try{In(3,e,e.return),zs(3,e)}catch(b){Y(e,e.return,b)}try{In(5,e,e.return)}catch(b){Y(e,e.return,b)}}break;case 1:Ae(t,e),Ue(e),s&512&&n!==null&&Gt(n,n.return);break;case 5:if(Ae(t,e),Ue(e),s&512&&n!==null&&Gt(n,n.return),e.flags&32){var l=e.stateNode;try{Bn(l,"")}catch(b){Y(e,e.return,b)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Oo(l,a),bl(o,i);var u=bl(o,a);for(i=0;i<c.length;i+=2){var h=c[i],m=c[i+1];h==="style"?Vo(l,m):h==="dangerouslySetInnerHTML"?Uo(l,m):h==="children"?Bn(l,m):da(l,h,m,u)}switch(o){case"input":yl(l,a);break;case"textarea":Fo(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Zt(l,!!a.multiple,f,!1):g!==!!a.multiple&&(a.defaultValue!=null?Zt(l,!!a.multiple,a.defaultValue,!0):Zt(l,!!a.multiple,a.multiple?[]:"",!1))}l[Gn]=a}catch(b){Y(e,e.return,b)}}break;case 6:if(Ae(t,e),Ue(e),s&4){if(e.stateNode===null)throw Error(S(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(b){Y(e,e.return,b)}}break;case 3:if(Ae(t,e),Ue(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(b){Y(e,e.return,b)}break;case 4:Ae(t,e),Ue(e);break;case 13:Ae(t,e),Ue(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ha=G())),s&4&&eo(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ce=(u=ce)||h,Ae(t,e),ce=u):Ae(t,e),Ue(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(z=e,h=e.child;h!==null;){for(m=z=h;z!==null;){switch(g=z,f=g.child,g.tag){case 0:case 11:case 14:case 15:In(4,g,g.return);break;case 1:Gt(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){Y(s,n,b)}}break;case 5:Gt(g,g.return);break;case 22:if(g.memoizedState!==null){no(m);continue}}f!==null?(f.return=g,z=f):no(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{l=m.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Bo("display",i))}catch(b){Y(e,e.return,b)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){Y(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ae(t,e),Ue(e),s&4&&eo(e);break;case 21:break;default:Ae(t,e),Ue(e)}}function Ue(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mu(n)){var s=n;break e}n=n.return}throw Error(S(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Bn(l,""),s.flags&=-33);var a=Zi(e);Zl(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Zi(e);Xl(e,o,i);break;default:throw Error(S(161))}}catch(c){Y(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hf(e,t,n){z=e,gu(e)}function gu(e,t,n){for(var s=(e.mode&1)!==0;z!==null;){var l=z,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||zr;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||ce;o=zr;var u=ce;if(zr=i,(ce=c)&&!u)for(z=l;z!==null;)i=z,c=i.child,i.tag===22&&i.memoizedState!==null?ro(l):c!==null?(c.return=i,z=c):ro(l);for(;a!==null;)z=a,gu(a),a=a.sibling;z=l,zr=o,ce=u}to(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,z=a):to(e)}}function to(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ce||zs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ce)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:De(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fi(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fi(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Qn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ce||t.flags&512&&Gl(t)}catch(g){Y(t,t.return,g)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function no(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function ro(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zs(4,t)}catch(c){Y(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){Y(t,l,c)}}var a=t.return;try{Gl(t)}catch(c){Y(t,a,c)}break;case 5:var i=t.return;try{Gl(t)}catch(c){Y(t,i,c)}}}catch(c){Y(t,t.return,c)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var Wf=Math.ceil,ps=tt.ReactCurrentDispatcher,Ba=tt.ReactCurrentOwner,Le=tt.ReactCurrentBatchConfig,F=0,re=null,X=null,le=0,Ne=0,Xt=jt(0),ee=0,rr=null,Dt=0,Ls=0,Va=0,On=null,he=null,Ha=0,pn=1/0,Qe=null,ms=!1,ea=null,mt=null,Lr=!1,ot=null,hs=0,Fn=0,ta=null,Hr=-1,Wr=0;function fe(){return F&6?G():Hr!==-1?Hr:Hr=G()}function ht(e){return e.mode&1?F&2&&le!==0?le&-le:Ef.transition!==null?(Wr===0&&(Wr=tc()),Wr):(e=U,e!==0||(e=window.event,e=e===void 0?16:oc(e.type)),e):1}function Fe(e,t,n,s){if(50<Fn)throw Fn=0,ta=null,Error(S(185));ir(e,n,s),(!(F&2)||e!==re)&&(e===re&&(!(F&2)&&(Ls|=n),ee===4&&at(e,le)),ve(e,s),n===1&&F===0&&!(t.mode&1)&&(pn=G()+500,_s&&wt()))}function ve(e,t){var n=e.callbackNode;_d(e,t);var s=Xr(e,e===re?le:0);if(s===0)n!==null&&fi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&fi(n),t===1)e.tag===0?_f(so.bind(null,e)):_c(so.bind(null,e)),bf(function(){!(F&6)&&wt()}),n=null;else{switch(nc(s)){case 1:n=xa;break;case 4:n=Zo;break;case 16:n=Gr;break;case 536870912:n=ec;break;default:n=Gr}n=Su(n,yu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yu(e,t){if(Hr=-1,Wr=0,F&6)throw Error(S(327));var n=e.callbackNode;if(sn()&&e.callbackNode!==n)return null;var s=Xr(e,e===re?le:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=xs(e,s);else{t=s;var l=F;F|=2;var a=ju();(re!==e||le!==t)&&(Qe=null,pn=G()+500,Pt(e,t));do try{Kf();break}catch(o){vu(e,o)}while(!0);Pa(),ps.current=a,F=l,X!==null?t=0:(re=null,le=0,t=ee)}if(t!==0){if(t===2&&(l=El(e),l!==0&&(s=l,t=na(e,l))),t===1)throw n=rr,Pt(e,0),at(e,s),ve(e,G()),n;if(t===6)at(e,s);else{if(l=e.current.alternate,!(s&30)&&!Qf(l)&&(t=xs(e,s),t===2&&(a=El(e),a!==0&&(s=a,t=na(e,a))),t===1))throw n=rr,Pt(e,0),at(e,s),ve(e,G()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(S(345));case 2:St(e,he,Qe);break;case 3:if(at(e,s),(s&130023424)===s&&(t=Ha+500-G(),10<t)){if(Xr(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){fe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Rl(St.bind(null,e,he,Qe),t);break}St(e,he,Qe);break;case 4:if(at(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-Oe(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=G()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wf(s/1960))-s,10<s){e.timeoutHandle=Rl(St.bind(null,e,he,Qe),s);break}St(e,he,Qe);break;case 5:St(e,he,Qe);break;default:throw Error(S(329))}}}return ve(e,G()),e.callbackNode===n?yu.bind(null,e):null}function na(e,t){var n=On;return e.current.memoizedState.isDehydrated&&(Pt(e,t).flags|=256),e=xs(e,t),e!==2&&(t=he,he=n,t!==null&&ra(t)),e}function ra(e){he===null?he=e:he.push.apply(he,e)}function Qf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!$e(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function at(e,t){for(t&=~Va,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oe(t),s=1<<n;e[n]=-1,t&=~s}}function so(e){if(F&6)throw Error(S(327));sn();var t=Xr(e,0);if(!(t&1))return ve(e,G()),null;var n=xs(e,t);if(e.tag!==0&&n===2){var s=El(e);s!==0&&(t=s,n=na(e,s))}if(n===1)throw n=rr,Pt(e,0),at(e,t),ve(e,G()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,St(e,he,Qe),ve(e,G()),null}function Wa(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(pn=G()+500,_s&&wt())}}function Rt(e){ot!==null&&ot.tag===0&&!(F&6)&&sn();var t=F;F|=1;var n=Le.transition,s=U;try{if(Le.transition=null,U=1,e)return e()}finally{U=s,Le.transition=n,F=t,!(F&6)&&wt()}}function Qa(){Ne=Xt.current,H(Xt)}function Pt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nf(n)),X!==null)for(n=X.return;n!==null;){var s=n;switch(Ca(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&rs();break;case 3:dn(),H(ge),H(ue),Da();break;case 5:Aa(s);break;case 4:dn();break;case 13:H(Q);break;case 19:H(Q);break;case 10:za(s.type._context);break;case 22:case 23:Qa()}n=n.return}if(re=e,X=e=xt(e.current,null),le=Ne=t,ee=0,rr=null,Va=Ls=Dt=0,he=On=null,_t!==null){for(t=0;t<_t.length;t++)if(n=_t[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}_t=null}return e}function vu(e,t){do{var n=X;try{if(Pa(),Ur.current=fs,ds){for(var s=q.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ds=!1}if(At=0,ne=Z=q=null,Rn=!1,er=0,Ba.current=null,n===null||n.return===null){ee=1,rr=t,X=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=le,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Wi(i);if(f!==null){f.flags&=-257,Qi(f,i,o,a,t),f.mode&1&&Hi(a,u,t),t=f,c=u;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){Hi(a,u,t),qa();break e}c=Error(S(426))}}else if(W&&o.mode&1){var C=Wi(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Qi(C,i,o,a,t),_a(fn(c,o));break e}}a=c=fn(c,o),ee!==4&&(ee=2),On===null?On=[a]:On.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=nu(a,c,t);Oi(a,x);break e;case 1:o=c;var d=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(mt===null||!mt.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=ru(a,o,t);Oi(a,y);break e}}a=a.return}while(a!==null)}Nu(n)}catch(v){t=v,X===n&&n!==null&&(X=n=n.return);continue}break}while(!0)}function ju(){var e=ps.current;return ps.current=fs,e===null?fs:e}function qa(){(ee===0||ee===3||ee===2)&&(ee=4),re===null||!(Dt&268435455)&&!(Ls&268435455)||at(re,le)}function xs(e,t){var n=F;F|=2;var s=ju();(re!==e||le!==t)&&(Qe=null,Pt(e,t));do try{qf();break}catch(l){vu(e,l)}while(!0);if(Pa(),F=n,ps.current=s,X!==null)throw Error(S(261));return re=null,le=0,ee}function qf(){for(;X!==null;)wu(X)}function Kf(){for(;X!==null&&!yd();)wu(X)}function wu(e){var t=ku(e.alternate,e,Ne);e.memoizedProps=e.pendingProps,t===null?Nu(e):X=t,Ba.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uf(n,t),n!==null){n.flags&=32767,X=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ee=6,X=null;return}}else if(n=$f(n,t,Ne),n!==null){X=n;return}if(t=t.sibling,t!==null){X=t;return}X=t=e}while(t!==null);ee===0&&(ee=5)}function St(e,t,n){var s=U,l=Le.transition;try{Le.transition=null,U=1,Yf(e,t,n,s)}finally{Le.transition=l,U=s}return null}function Yf(e,t,n,s){do sn();while(ot!==null);if(F&6)throw Error(S(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ed(e,a),e===re&&(X=re=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lr||(Lr=!0,Su(Gr,function(){return sn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Le.transition,Le.transition=null;var i=U;U=1;var o=F;F|=4,Ba.current=null,Vf(e,n),xu(n,e),hf(Al),Zr=!!Ml,Al=Ml=null,e.current=n,Hf(n),vd(),F=o,U=i,Le.transition=a}else e.current=n;if(Lr&&(Lr=!1,ot=e,hs=l),a=e.pendingLanes,a===0&&(mt=null),Nd(n.stateNode),ve(e,G()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(ms)throw ms=!1,e=ea,ea=null,e;return hs&1&&e.tag!==0&&sn(),a=e.pendingLanes,a&1?e===ta?Fn++:(Fn=0,ta=e):Fn=0,wt(),null}function sn(){if(ot!==null){var e=nc(hs),t=Le.transition,n=U;try{if(Le.transition=null,U=16>e?16:e,ot===null)var s=!1;else{if(e=ot,ot=null,hs=0,F&6)throw Error(S(331));var l=F;for(F|=4,z=e.current;z!==null;){var a=z,i=a.child;if(z.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:In(8,h,a)}var m=h.child;if(m!==null)m.return=h,z=m;else for(;z!==null;){h=z;var g=h.sibling,f=h.return;if(pu(h),h===u){z=null;break}if(g!==null){g.return=f,z=g;break}z=f}}}var w=a.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}z=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,z=i;else e:for(;z!==null;){if(a=z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:In(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,z=x;break e}z=a.return}}var d=e.current;for(z=d;z!==null;){i=z;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,z=p;else e:for(i=d;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zs(9,o)}}catch(v){Y(o,o.return,v)}if(o===i){z=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,z=y;break e}z=o.return}}if(F=l,wt(),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Ns,e)}catch{}s=!0}return s}finally{U=n,Le.transition=t}}return!1}function lo(e,t,n){t=fn(n,t),t=nu(e,t,1),e=pt(e,t,1),t=fe(),e!==null&&(ir(e,1,t),ve(e,t))}function Y(e,t,n){if(e.tag===3)lo(e,e,n);else for(;t!==null;){if(t.tag===3){lo(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mt===null||!mt.has(s))){e=fn(n,e),e=ru(t,e,1),t=pt(t,e,1),e=fe(),t!==null&&(ir(t,1,e),ve(t,e));break}}t=t.return}}function Jf(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=fe(),e.pingedLanes|=e.suspendedLanes&n,re===e&&(le&n)===n&&(ee===4||ee===3&&(le&130023424)===le&&500>G()-Ha?Pt(e,0):Va|=n),ve(e,t)}function bu(e,t){t===0&&(e.mode&1?(t=wr,wr<<=1,!(wr&130023424)&&(wr=4194304)):t=1);var n=fe();e=Ze(e,t),e!==null&&(ir(e,t,n),ve(e,n))}function Gf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bu(e,n)}function Xf(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(S(314))}s!==null&&s.delete(t),bu(e,n)}var ku;ku=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ge.current)xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xe=!1,Ff(e,t,n);xe=!!(e.flags&131072)}else xe=!1,W&&t.flags&1048576&&Ec(t,as,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Vr(e,t),e=t.pendingProps;var l=on(t,ue.current);rn(t,n),l=Ia(null,t,s,e,l,n);var a=Oa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ye(s)?(a=!0,ss(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ta(t),l.updater=Ps,t.stateNode=l,l._reactInternals=t,Vl(t,s,e,n),t=Ql(null,t,s,!0,a,n)):(t.tag=0,W&&a&&Sa(t),de(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Vr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=ep(s),e=De(s,e),l){case 0:t=Wl(null,t,s,e,n);break e;case 1:t=Yi(null,t,s,e,n);break e;case 11:t=qi(null,t,s,e,n);break e;case 14:t=Ki(null,t,s,De(s.type,e),n);break e}throw Error(S(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:De(s,l),Wl(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:De(s,l),Yi(e,t,s,l,n);case 3:e:{if(iu(t),e===null)throw Error(S(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Ac(e,t),cs(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=fn(Error(S(423)),t),t=Ji(e,t,s,n,l);break e}else if(s!==l){l=fn(Error(S(424)),t),t=Ji(e,t,s,n,l);break e}else for(be=ft(t.stateNode.containerInfo.firstChild),ke=t,W=!0,Ie=null,n=Tc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cn(),s===l){t=et(e,t,n);break e}de(e,t,s,n)}t=t.child}return t;case 5:return Dc(t),e===null&&$l(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Dl(s,l)?i=null:a!==null&&Dl(s,a)&&(t.flags|=32),au(e,t),de(e,t,i,n),t.child;case 6:return e===null&&$l(t),null;case 13:return ou(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=un(t,null,s,n):de(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:De(s,l),qi(e,t,s,l,n);case 7:return de(e,t,t.pendingProps,n),t.child;case 8:return de(e,t,t.pendingProps.children,n),t.child;case 12:return de(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,B(is,s._currentValue),s._currentValue=i,a!==null)if($e(a.value,i)){if(a.children===l.children&&!ge.current){t=et(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Je(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ul(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(S(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ul(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}de(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,rn(t,n),l=Te(l),s=s(l),t.flags|=1,de(e,t,s,n),t.child;case 14:return s=t.type,l=De(s,t.pendingProps),l=De(s.type,l),Ki(e,t,s,l,n);case 15:return su(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:De(s,l),Vr(e,t),t.tag=1,ye(s)?(e=!0,ss(t)):e=!1,rn(t,n),tu(t,s,l),Vl(t,s,l,n),Ql(null,t,s,!0,e,n);case 19:return cu(e,t,n);case 22:return lu(e,t,n)}throw Error(S(156,t.tag))};function Su(e,t){return Xo(e,t)}function Zf(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,n,s){return new Zf(e,t,n,s)}function Ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ep(e){if(typeof e=="function")return Ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pa)return 11;if(e===ma)return 14}return 2}function xt(e,t){var n=e.alternate;return n===null?(n=ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Ka(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bt:return zt(n.children,l,a,t);case fa:i=8,l|=8;break;case pl:return e=ze(12,n,t,l|2),e.elementType=pl,e.lanes=a,e;case ml:return e=ze(13,n,t,l),e.elementType=ml,e.lanes=a,e;case hl:return e=ze(19,n,t,l),e.elementType=hl,e.lanes=a,e;case Do:return Ts(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mo:i=10;break e;case Ao:i=9;break e;case pa:i=11;break e;case ma:i=14;break e;case rt:i=16,s=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=ze(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function zt(e,t,n,s){return e=ze(7,e,s,t),e.lanes=n,e}function Ts(e,t,n,s){return e=ze(22,e,s,t),e.elementType=Do,e.lanes=n,e.stateNode={isHidden:!1},e}function ol(e,t,n){return e=ze(6,e,null,t),e.lanes=n,e}function cl(e,t,n){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tp(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vs(0),this.expirationTimes=Vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vs(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ya(e,t,n,s,l,a,i,o,c){return e=new tp(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ze(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function np(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ut,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Cu(e){if(!e)return yt;e=e._reactInternals;e:{if(Ft(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(ye(n))return Cc(e,n,t)}return t}function _u(e,t,n,s,l,a,i,o,c){return e=Ya(n,s,!0,e,l,a,i,o,c),e.context=Cu(null),n=e.current,s=fe(),l=ht(n),a=Je(s,l),a.callback=t??null,pt(n,a,l),e.current.lanes=l,ir(e,l,s),ve(e,s),e}function Ms(e,t,n,s){var l=t.current,a=fe(),i=ht(l);return n=Cu(n),t.context===null?t.context=n:t.pendingContext=n,t=Je(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=pt(l,t,i),e!==null&&(Fe(e,l,i,a),$r(e,l,i)),i}function gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ao(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ja(e,t){ao(e,t),(e=e.alternate)&&ao(e,t)}function rp(){return null}var Eu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ga(e){this._internalRoot=e}As.prototype.render=Ga.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));Ms(e,t,null,null)};As.prototype.unmount=Ga.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rt(function(){Ms(null,e,null,null)}),t[Xe]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lt.length&&t!==0&&t<lt[n].priority;n++);lt.splice(n,0,e),n===0&&ic(e)}};function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ds(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function io(){}function sp(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=gs(i);a.call(u)}}var i=_u(t,s,e,0,null,!1,!1,"",io);return e._reactRootContainer=i,e[Xe]=i.current,Yn(e.nodeType===8?e.parentNode:e),Rt(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=gs(c);o.call(u)}}var c=Ya(e,0,!1,null,null,!1,!1,"",io);return e._reactRootContainer=c,e[Xe]=c.current,Yn(e.nodeType===8?e.parentNode:e),Rt(function(){Ms(t,c,n,s)}),c}function Rs(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=gs(i);o.call(c)}}Ms(t,i,e,l)}else i=sp(n,t,e,l,s);return gs(i)}rc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pn(t.pendingLanes);n!==0&&(ga(t,n|1),ve(t,G()),!(F&6)&&(pn=G()+500,wt()))}break;case 13:Rt(function(){var s=Ze(e,1);if(s!==null){var l=fe();Fe(s,e,1,l)}}),Ja(e,1)}};ya=function(e){if(e.tag===13){var t=Ze(e,134217728);if(t!==null){var n=fe();Fe(t,e,134217728,n)}Ja(e,134217728)}};sc=function(e){if(e.tag===13){var t=ht(e),n=Ze(e,t);if(n!==null){var s=fe();Fe(n,e,t,s)}Ja(e,t)}};lc=function(){return U};ac=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};Sl=function(e,t,n){switch(t){case"input":if(yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Cs(s);if(!l)throw Error(S(90));Io(s),yl(s,l)}}}break;case"textarea":Fo(e,n);break;case"select":t=n.value,t!=null&&Zt(e,!!n.multiple,t,!1)}};Qo=Wa;qo=Rt;var lp={usingClientEntryPoint:!1,Events:[cr,Qt,Cs,Ho,Wo,Wa]},Cn={findFiberByHostInstance:Ct,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ap={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jo(e),e===null?null:e.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Ns=Tr.inject(ap),He=Tr}catch{}}Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;Ce.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xa(t))throw Error(S(200));return np(e,t,null,n)};Ce.createRoot=function(e,t){if(!Xa(e))throw Error(S(299));var n=!1,s="",l=Eu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ya(e,1,!1,null,null,n,!1,s,l),e[Xe]=t.current,Yn(e.nodeType===8?e.parentNode:e),new Ga(t)};Ce.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Jo(t),e=e===null?null:e.stateNode,e};Ce.flushSync=function(e){return Rt(e)};Ce.hydrate=function(e,t,n){if(!Ds(t))throw Error(S(200));return Rs(null,e,t,!0,n)};Ce.hydrateRoot=function(e,t,n){if(!Xa(e))throw Error(S(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Eu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=_u(t,null,e,1,n??null,l,!1,a,i),e[Xe]=t.current,Yn(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new As(t)};Ce.render=function(e,t,n){if(!Ds(t))throw Error(S(200));return Rs(null,e,t,!1,n)};Ce.unmountComponentAtNode=function(e){if(!Ds(e))throw Error(S(40));return e._reactRootContainer?(Rt(function(){Rs(null,null,e,!1,function(){e._reactRootContainer=null,e[Xe]=null})}),!0):!1};Ce.unstable_batchedUpdates=Wa;Ce.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ds(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Rs(e,t,n,!1,s)};Ce.version="18.3.1-next-f1338f8080-20240426";function Pu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pu)}catch(e){console.error(e)}}Pu(),Po.exports=Ce;var ip=Po.exports,oo=ip;dl.createRoot=oo.createRoot,dl.hydrateRoot=oo.hydrateRoot;var op={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M=(e,t)=>{const n=N.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:o,...c},u)=>N.createElement("svg",{ref:u,...op,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:`lucide lucide-${cp(e)}`,...c},[...t.map(([h,m])=>N.createElement(h,m)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},ln=M("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),up=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),sr=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),dp=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),fp=M("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),co=M("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),dr=M("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),pp=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ys=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),mp=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hp=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),xp=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),gp=M("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),vs=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$n=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),sa=M("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),zu=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yp=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),mn=M("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),vp=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),jp=M("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),uo=M("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),wp=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Np=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bp=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),kp=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Sp=M("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),Cp=M("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),_p=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ep=M("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Pp=M("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),It=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zp=M("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),fo=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Lp=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),yn=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Lu=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),po=M("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Tp=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Tu=M("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),lr=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Za=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),js=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),qr=M("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),mo=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Lt=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ho=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Mu=N.createContext(null),Mp=({children:e})=>{const[t,n]=N.useState(null),[s,l]=N.useState(!0),[a,i]=N.useState(localStorage.getItem("access_token"));N.useEffect(()=>{a?fetch("http://localhost:8000/api/auth/me",{headers:{Authorization:`Bearer ${a}`}}).then(m=>m.json()).then(m=>{n(m),l(!1)}).catch(()=>{localStorage.removeItem("access_token"),i(null),l(!1)}):l(!1)},[a]);const h={user:t,login:async(m,g)=>{const f=await fetch("http://localhost:8000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:g})});if(!f.ok)throw new Error("Login failed");const w=await f.json();return localStorage.setItem("access_token",w.access_token),localStorage.setItem("refresh_token",w.refresh_token),i(w.access_token),n(w.user),w},register:async(m,g,f,w,b)=>{const C=await fetch("http://localhost:8000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:g,name:f,role:w,phone:b})});if(!C.ok)throw new Error("Registration failed");const x=await C.json();return localStorage.setItem("access_token",x.access_token),localStorage.setItem("refresh_token",x.refresh_token),i(x.access_token),n(x.user),x},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),i(null),n(null)},isAuthenticated:!!t,loading:s,token:a};return r.jsx(Mu.Provider,{value:h,children:e})},je=()=>{const e=N.useContext(Mu);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Ap="http://localhost:8000";function xo(){const[e,t]=N.useState({total_patients:0,today_appointments:0,pending_appointments:0,today_revenue:0,active_prescriptions:0,unpaid_bills:0}),[n,s]=N.useState(!0);N.useEffect(()=>{l()},[]);const l=async()=>{try{const o=await(await fetch(`${Ap}/api/dashboard/stats`)).json();t(o)}catch(i){console.error("Error fetching dashboard stats:",i)}finally{s(!1)}},a=[{name:"Total Patients",value:e.total_patients,icon:js,color:"text-blue-600 bg-blue-100",subtext:"Registered patients"},{name:"Today's Appointments",value:e.today_appointments,icon:dr,color:"text-purple-600 bg-purple-100",subtext:`${e.pending_appointments} pending`},{name:"Active Prescriptions",value:e.active_prescriptions,icon:mn,color:"text-green-600 bg-green-100",subtext:"Last 30 days"},{name:"Today's Revenue",value:`${e.today_revenue.toLocaleString()}`,icon:lr,color:"text-orange-600 bg-orange-100",subtext:`${e.unpaid_bills} unpaid bills`}];return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"Loading dashboard..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Real-time data  Last updated: ",new Date().toLocaleTimeString()]})]}),r.jsx("div",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full",children:" Live Data (V2)"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(i=>{const o=i.icon;return r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:`p-3 rounded-lg ${i.color}`,children:r.jsx(o,{size:24})})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:i.name}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:i.value}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i.subtext})]})]},i.name)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Stats"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Pending Appointments"}),r.jsx("span",{className:"font-semibold text-gray-900",children:e.pending_appointments})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Active Prescriptions"}),r.jsx("span",{className:"font-semibold text-gray-900",children:e.active_prescriptions})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Unpaid Bills"}),r.jsx("span",{className:"font-semibold text-gray-900",children:e.unpaid_bills})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"System Info"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-blue-900",children:"Data Source"}),r.jsx("span",{className:"font-semibold text-blue-900",children:"V2 Tables (Real-time)"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-green-900",children:"Database"}),r.jsx("span",{className:"font-semibold text-green-900",children:"SQLite"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-purple-900",children:"API Version"}),r.jsx("span",{className:"font-semibold text-purple-900",children:"V2.0"})]})]})]})]})]})}function Dp(){const[e,t]=N.useState([]),[n,s]=N.useState(!0),[l,a]=N.useState(!1),[i,o]=N.useState({name:"",age:"",gender:"",phone:"",email:"",abha_id:""});N.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await(await fetch("/api/patients")).json();t(y.patients||[]),s(!1)}catch(p){console.error("Error fetching patients:",p),s(!1)}},u=async p=>{p.preventDefault();try{(await fetch("/api/patients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&(a(!1),c(),o({name:"",age:"",gender:"",phone:"",email:"",abha_id:""}))}catch(y){console.error("Error creating patient:",y)}},[h,m]=N.useState(!1),[g,f]=N.useState(null),[w,b]=N.useState([]),[C,x]=N.useState(!1),d=async p=>{f(p),m(!0),x(!0);try{const y=await fetch(`/api/encounters?patient_id=${p.id}`);if(y.ok){const v=await y.json();b(v.encounters||[])}else console.error("Failed to fetch history")}catch(y){console.error("Error fetching history:",y)}finally{x(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patients"}),r.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(It,{size:20}),"Add Patient"]})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Register New Patient"}),r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",required:!0,className:"w-full p-2 border border-gray-300 rounded-lg",value:i.name,onChange:p=>o({...i,name:p.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),r.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-lg",value:i.age,onChange:p=>o({...i,age:p.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg",value:i.gender,onChange:p=>o({...i,gender:p.target.value}),children:[r.jsx("option",{value:"",children:"Select"}),r.jsx("option",{value:"M",children:"Male"}),r.jsx("option",{value:"F",children:"Female"}),r.jsx("option",{value:"O",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg",value:i.phone,onChange:p=>o({...i,phone:p.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ABHA ID"}),r.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg",value:i.abha_id,onChange:p=>o({...i,abha_id:p.target.value})})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Register"})]})]})]})}),h&&g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[80vh] flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Patient History"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[g.name," (Age: ",g.age,")"]})]}),r.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("span",{className:"text-2xl",children:""})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:C?r.jsxs("div",{className:"text-center py-10",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Loading history..."})]}):w.length===0?r.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-gray-100",children:r.jsx("p",{className:"text-gray-500",children:"No previous encounters found for this patient."})}):r.jsx("div",{className:"space-y-4",children:w.map(p=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"flex justify-between items-start mb-2",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-bold text-blue-600",children:new Date(p.visit_date).toLocaleDateString()}),r.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),r.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${p.status==="completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:p.status})]})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:"Chief Complaint:"})," ",p.chief_complaint]}),p.diagnosis&&r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Diagnosis:"})," ",p.diagnosis]})]})]},p.id))})}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search patients...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Patient"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Age/Gender"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"ABHA ID"}),r.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center",children:"Loading..."})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No patients found"})}):e.map(p=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:p.name.charAt(0)}),r.jsx("span",{className:"font-medium text-gray-900",children:p.name})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col text-sm text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(_p,{size:14})," ",p.phone||"-"]}),p.email&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Np,{size:14})," ",p.email]})]})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[p.age," / ",p.gender]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:p.abha_id||"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>d(p),className:"text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline",children:"View History"})})]},p.id))})]})})]})]})}const Mr="http://localhost:8000";function Rp(){const{token:e}=je(),[t,n]=N.useState([]),[s,l]=N.useState([]),[a,i]=N.useState(!0),[o,c]=N.useState(!1),[u,h]=N.useState({status:"all",search:""}),[m,g]=N.useState({patientId:"",doctorId:"admin",startTime:"",endTime:"",reason:"",notes:""});N.useEffect(()=>{e&&(f(),w())},[u,e]);const f=async()=>{try{i(!0);const y=new URLSearchParams;u.status!=="all"&&y.append("status",u.status);const j=await(await fetch(`${Mr}/api/v2/appointments?${y}`,{headers:{Authorization:`Bearer ${e}`}})).json();n(j.appointments||[])}catch(y){console.error("Error fetching appointments:",y)}finally{i(!1)}},w=async()=>{try{const v=await(await fetch(`${Mr}/api/patients?limit=100`,{headers:{Authorization:`Bearer ${e}`}})).json();console.log("Fetched patients:",v),l(v.patients||[])}catch(y){console.error("Error fetching patients:",y)}},b=async y=>{y.preventDefault();try{(await fetch(`${Mr}/api/v2/appointments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(m)})).ok&&(c(!1),g({patientId:"",doctorId:"admin",startTime:"",endTime:"",reason:"",notes:""}),f())}catch(v){console.error("Error creating appointment:",v)}},C=async y=>{if(confirm("Cancel this appointment?"))try{(await fetch(`${Mr}/api/v2/appointments/${y}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${e}`}})).ok&&f()}catch(v){console.error("Error cancelling appointment:",v)}},x=y=>y?new Date(y).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",d=y=>({scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-orange-100 text-orange-800"})[y]||"bg-gray-100 text-gray-800",p=t.filter(y=>{var v,j;return u.search===""||((v=y.patient_name)==null?void 0:v.toLowerCase().includes(u.search.toLowerCase()))||((j=y.reason)==null?void 0:j.toLowerCase().includes(u.search.toLowerCase()))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointments"}),r.jsx("p",{className:"text-gray-600",children:"Manage patient appointments"})]}),r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(It,{size:20}),"Book Appointment"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search appointments...",value:u.search,onChange:y=>h({...u,search:y.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("select",{value:u.status,onChange:y=>h({...u,status:y.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading appointments..."}):p.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No appointments found. Book your first appointment!"}):r.jsx("div",{className:"divide-y divide-gray-200",children:p.map(y=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Za,{className:"text-gray-400",size:20}),r.jsx("h3",{className:"font-semibold text-gray-900",children:y.patient_name||"Unknown Patient"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(y.status)}`,children:y.status})]}),r.jsxs("div",{className:"ml-8 space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{size:16}),r.jsx("span",{children:x(y.start_time)}),r.jsx("span",{children:"-"}),r.jsx("span",{children:x(y.end_time)})]}),y.reason&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vs,{size:16}),r.jsx("span",{children:y.reason})]}),y.notes&&r.jsx("p",{className:"text-gray-500 italic",children:y.notes})]})]}),r.jsx("div",{className:"flex gap-2",children:y.status==="scheduled"&&r.jsx("button",{onClick:()=>C(y.id),className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Cancel"})})]})},y.id))})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Book Appointment"}),r.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Lt,{size:24})})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient * ",s.length>0&&r.jsxs("span",{className:"text-gray-500",children:["(",s.length," available)"]})]}),r.jsxs("select",{required:!0,value:m.patientId,onChange:y=>g({...m,patientId:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:s.length===0?"No patients found - Please register a patient first":"Select patient"}),s.map(y=>r.jsx("option",{value:y.id,children:y.name},y.id))]}),s.length===0&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Please go to Patients tab and register a patient first"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),r.jsx("input",{type:"datetime-local",required:!0,value:m.startTime,onChange:y=>{const v=y.target.value,j=v?new Date(new Date(v).getTime()+30*6e4).toISOString().slice(0,16):"";g({...m,startTime:v,endTime:j})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),r.jsx("input",{type:"datetime-local",required:!0,value:m.endTime,onChange:y=>g({...m,endTime:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),r.jsx("input",{type:"text",value:m.reason,onChange:y=>g({...m,reason:y.target.value}),placeholder:"e.g., Regular checkup",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:m.notes,onChange:y=>g({...m,notes:y.target.value}),rows:3,placeholder:"Additional notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Book Appointment"})]})]})]})})})]})}function Ip(){return r.jsx(Rp,{})}function Op({encounterId:e,notes:t,patientContext:n}){const{token:s}=je(),[l,a]=N.useState("analysis"),[i,o]=N.useState(!1),[c,u]=N.useState(null),[h,m]=N.useState(""),[g,f]=N.useState([]),[w,b]=N.useState(!1),[C,x]=N.useState({}),d=async()=>{if(!(!t||!e)){o(!0);try{const v=await fetch("/api/copilot/analyze",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({encounter_id:e,notes:t,patient_context:n||{},actor:"clinician"})});if(!v.ok)throw new Error("Analysis failed");const j=await v.json();u(j)}catch(v){console.error("Error analyzing notes:",v)}finally{o(!1)}}},p=async v=>{if(v.preventDefault(),!h.trim()||!e)return;const j={role:"user",content:h};f(k=>[...k,j]),m(""),b(!0);try{const k=await fetch("/api/copilot/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({encounter_id:e,message:j.content,context:{notes:t,...n}})});if(!k.ok)throw new Error("Chat failed");const E=await k.json();f(I=>[...I,{role:"assistant",content:E.response}])}catch(k){console.error("Error in chat:",k),f(E=>[...E,{role:"system",content:"Failed to get response. Please try again."}])}finally{b(!1)}},y=v=>{x(j=>({...j,[v]:!j[v]}))};return r.jsxs("div",{className:"flex flex-col h-full bg-white border-l border-gray-200 w-96 shadow-lg",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-bold",children:[r.jsx(co,{size:24}),r.jsx("span",{children:"AYUSH Co-Pilot"})]}),r.jsxs("div",{className:"flex bg-gray-200 rounded-lg p-1 text-xs font-medium",children:[r.jsx("button",{onClick:()=>a("analysis"),className:`px-3 py-1 rounded-md transition-colors ${l==="analysis"?"bg-white shadow-sm text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:"Analysis"}),r.jsx("button",{onClick:()=>a("chat"),className:`px-3 py-1 rounded-md transition-colors ${l==="chat"?"bg-white shadow-sm text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:"Chat"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l==="analysis"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[r.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Analyze clinical notes for AYUSH terms, ICD-11 mappings, and safety checks."}),r.jsxs("button",{onClick:d,disabled:i||!t,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[i?r.jsx(uo,{className:"animate-spin",size:18}):r.jsx(Fp,{size:18}),i?"Analyzing...":"Analyze Notes"]})]}),c&&r.jsxs(r.Fragment,{children:[c.warnings&&c.warnings.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[r.jsx(sr,{size:16,className:"text-amber-500"}),"Safety Warnings"]}),c.warnings.map((v,j)=>r.jsxs("div",{className:`p-3 rounded-lg border text-sm ${v.severity==="high"?"bg-red-50 border-red-200 text-red-800":"bg-amber-50 border-amber-200 text-amber-800"}`,children:[r.jsxs("div",{className:"font-bold mb-1 flex items-center justify-between",children:[v.code,r.jsx("span",{className:"text-xs uppercase px-2 py-0.5 rounded-full bg-white bg-opacity-50",children:v.severity})]}),v.message]},j))]}),c.suggestions&&c.suggestions.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[r.jsx(ys,{size:16,className:"text-green-600"}),"Suggestions"]}),r.jsx("div",{className:"space-y-2",children:c.suggestions.map((v,j)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("button",{onClick:()=>y(j),className:"w-full flex items-center justify-between p-3 bg-white hover:bg-gray-50 text-left",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[v.ayush_term," ",r.jsx("span",{className:"text-gray-400",children:""})," ",v.icd11_code]}),r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:v.icd11_title})]}),C[j]?r.jsx(hp,{size:16,className:"text-gray-400"}):r.jsx(xp,{size:16,className:"text-gray-400"})]}),C[j]&&r.jsxs("div",{className:"p-3 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Full Title:"})," ",v.icd11_title]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Confidence:"})," ",(v.confidence*100).toFixed(1),"%"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Explanation:"})," ",v.explanation]}),r.jsx("button",{className:"w-full mt-2 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Accept Mapping"})]})]},j))})]}),c.followups&&c.followups.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[r.jsx(kp,{size:16,className:"text-blue-500"}),"Recommendations"]}),r.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1 bg-gray-50 p-3 rounded-lg border border-gray-200",children:c.followups.map((v,j)=>r.jsx("li",{children:v},j))})]})]})]}):r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto mb-4",children:[g.length===0&&r.jsxs("div",{className:"text-center text-gray-400 mt-10 text-sm",children:[r.jsx(co,{size:40,className:"mx-auto mb-2 opacity-20"}),r.jsx("p",{children:"Ask me anything about this encounter."})]}),g.map((v,j)=>r.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] rounded-lg p-3 text-sm ${v.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:v.content})},j)),w&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 rounded-lg p-3 rounded-bl-none",children:r.jsx(uo,{className:"animate-spin text-gray-400",size:16})})})]}),r.jsxs("form",{onSubmit:p,className:"relative",children:[r.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),placeholder:"Type a message...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:w}),r.jsx("button",{type:"submit",disabled:!h.trim()||w,className:"absolute right-1 top-1 p-1.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r.jsx(Lu,{size:14})})]})]})})]})}function Fp({size:e=24,className:t=""}){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:r.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}function $p(){const[e,t]=N.useState([]),[n,s]=N.useState([]),[l,a]=N.useState(!0),[i,o]=N.useState(null),[c,u]=N.useState(!1),[h,m]=N.useState(!1),[g,f]=N.useState(null),[w,b]=N.useState({patient_id:"",chief_complaint:""}),[C,x]=N.useState(null),[d,p]=N.useState(!1);N.useEffect(()=>{y()},[]);const y=async()=>{a(!0),o(null);try{await Promise.all([v(),j()])}catch(L){console.error("Error fetching data:",L),o("Failed to load data. Please try again.")}finally{a(!1)}},v=async()=>{const L=await fetch("/api/encounters");if(!L.ok)throw new Error("Failed to fetch encounters");const $=await L.json();t($.encounters||[])},j=async()=>{const L=await fetch("/api/patients");if(!L.ok)throw new Error("Failed to fetch patients");const $=await L.json();s($.patients||[])},k=async L=>{L.preventDefault(),m(!0),o(null);try{const $=await fetch("/api/encounters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!$.ok){const we=await $.json();throw new Error(we.detail||"Failed to create encounter")}u(!1),b({patient_id:"",chief_complaint:""}),v()}catch($){console.error("Error creating encounter:",$),o($.message)}finally{m(!1)}},E=async L=>{p(!0);try{const $=await fetch(`/api/encounters/${L}`);if(!$.ok)throw new Error("Failed to fetch encounter details");const we=await $.json();x(we),f(L)}catch($){console.error("Error fetching details:",$),o("Failed to load encounter details.")}finally{p(!1)}},I=(L,$)=>{x(we=>({...we,[L]:$}))},A=()=>C?`
Chief Complaint: ${C.chief_complaint||""}
History of Present Illness: ${C.history_of_present_illness||""}
Examination: ${C.examination||""}
Assessment: ${C.assessment||""}
Plan: ${C.plan||""}
        `.trim():"";return g&&C?r.jsxs("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden bg-gray-50",children:[r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600 transition-colors",children:r.jsx(dp,{size:20})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:C.patient_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(C.visit_date).toLocaleDateString(),"  ",C.status]})]})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[r.jsx(Lp,{size:18}),"Save Changes"]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Chief Complaint"}),r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",rows:"2",value:C.chief_complaint||"",onChange:L=>I("chief_complaint",L.target.value),placeholder:"Patient's primary complaint..."})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"History of Present Illness"}),r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",rows:"4",value:C.history_of_present_illness||"",onChange:L=>I("history_of_present_illness",L.target.value),placeholder:"Detailed history..."})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Examination"}),r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",rows:"4",value:C.examination||"",onChange:L=>I("examination",L.target.value),placeholder:"Physical examination findings..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Assessment"}),r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",rows:"4",value:C.assessment||"",onChange:L=>I("assessment",L.target.value),placeholder:"Clinical assessment..."})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Plan"}),r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",rows:"4",value:C.plan||"",onChange:L=>I("plan",L.target.value),placeholder:"Treatment plan..."})]})]})]})]}),r.jsx(Op,{encounterId:g,notes:A(),patientContext:{medications:[],conditions:[]}})]}):r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Encounters"}),r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[r.jsx(It,{size:20}),"New Encounter"]})]}),i&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg relative shadow-sm",role:"alert",children:[r.jsx("strong",{className:"font-bold",children:"Error: "}),r.jsx("span",{className:"block sm:inline",children:i})]}),l?r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading encounters..."})]}):r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Patient"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Chief Complaint"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"bg-gray-100 p-4 rounded-full mb-4",children:r.jsx(yn,{size:24,className:"text-gray-400"})}),r.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No encounters found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get started by creating a new encounter."})]})})}):e.map(L=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:new Date(L.visit_date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:L.patient_name||L.patient_id}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:L.chief_complaint}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full ${L.status==="completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:L.status})}),r.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:r.jsx("button",{onClick:()=>E(L.id),className:"text-blue-600 hover:text-blue-800 font-medium hover:underline",children:"View / Edit"})})]},L.id))})]})}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl transform transition-all",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900",children:"Start New Encounter"}),i&&r.jsx("div",{className:"mb-4 bg-red-50 text-red-700 p-3 rounded-lg text-sm border border-red-100",children:i}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient"}),r.jsxs("select",{required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50",value:w.patient_id,onChange:L=>b({...w,patient_id:L.target.value}),children:[r.jsx("option",{value:"",children:"Select Patient"}),n.map(L=>r.jsx("option",{value:L.id,children:L.name},L.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chief Complaint"}),r.jsx("textarea",{required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50",rows:"3",placeholder:"e.g., Fever, Cough, Headache",value:w.chief_complaint,onChange:L=>b({...w,chief_complaint:L.target.value})})]}),r.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>{u(!1),o(null)},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-sm",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Starting..."]}):"Start Encounter"})]})]})]})})]})}const ul="http://localhost:8000";function Up(){const{token:e}=je(),[t,n]=N.useState([]),[s,l]=N.useState([]),[a,i]=N.useState(!0),[o,c]=N.useState(!1),[u,h]=N.useState(""),[m,g]=N.useState({patientId:"",doctorId:"admin",diagnosis:"",notes:"",items:[{medicine_name:"",form:"",dose:"",frequency:"",duration:"",instructions:""}]});N.useEffect(()=>{e&&(f(),w())},[e]);const f=async()=>{try{i(!0);const j=await(await fetch(`${ul}/api/v2/prescriptions`,{headers:{Authorization:`Bearer ${e}`}})).json();n(j.prescriptions||[])}catch(v){console.error("Error fetching prescriptions:",v)}finally{i(!1)}},w=async()=>{try{const j=await(await fetch(`${ul}/api/patients?limit=100`,{headers:{Authorization:`Bearer ${e}`}})).json();l(j.patients||[])}catch(v){console.error("Error fetching patients:",v)}},b=async v=>{v.preventDefault();try{(await fetch(`${ul}/api/v2/prescriptions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(m)})).ok&&(c(!1),g({patientId:"",doctorId:"admin",diagnosis:"",notes:"",items:[{medicine_name:"",form:"",dose:"",frequency:"",duration:"",instructions:""}]}),f())}catch(j){console.error("Error creating prescription:",j)}},C=()=>{g({...m,items:[...m.items,{medicine_name:"",form:"",dose:"",frequency:"",duration:"",instructions:""}]})},x=v=>{const j=m.items.filter((k,E)=>E!==v);g({...m,items:j})},d=(v,j,k)=>{const E=[...m.items];E[v][j]=k,g({...m,items:E})},p=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",y=t.filter(v=>{var j,k;return u===""||((j=v.patient_name)==null?void 0:j.toLowerCase().includes(u.toLowerCase()))||((k=v.diagnosis)==null?void 0:k.toLowerCase().includes(u.toLowerCase()))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prescriptions"}),r.jsx("p",{className:"text-gray-600",children:"Manage patient prescriptions"})]}),r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(It,{size:20}),"Create Prescription"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search prescriptions...",value:u,onChange:v=>h(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading prescriptions..."}):y.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No prescriptions found. Create your first prescription!"}):r.jsx("div",{className:"divide-y divide-gray-200",children:y.map(v=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Za,{className:"text-gray-400",size:20}),r.jsx("h3",{className:"font-semibold text-gray-900",children:v.patient_name||"Unknown Patient"}),r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:[v.item_count||0," items"]})]}),r.jsxs("div",{className:"ml-8 space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{size:16}),r.jsxs("span",{children:["Issued: ",p(v.issued_at)]})]}),v.diagnosis&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mn,{size:16}),r.jsx("span",{className:"font-medium",children:"Diagnosis:"}),r.jsx("span",{children:v.diagnosis})]}),v.notes&&r.jsx("p",{className:"text-gray-500 italic",children:v.notes})]})]})})},v.id))})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Prescription"}),r.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Lt,{size:24})})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient * ",s.length>0&&r.jsxs("span",{className:"text-gray-500",children:["(",s.length," available)"]})]}),r.jsxs("select",{required:!0,value:m.patientId,onChange:v=>g({...m,patientId:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select patient"}),s.map(v=>r.jsx("option",{value:v.id,children:v.name},v.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosis"}),r.jsx("input",{type:"text",value:m.diagnosis,onChange:v=>g({...m,diagnosis:v.target.value}),placeholder:"e.g., Common Cold",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:m.notes,onChange:v=>g({...m,notes:v.target.value}),rows:2,placeholder:"Additional notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Medicines"}),r.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(It,{size:16}),"Add Medicine"]})]}),m.items.map((v,j)=>r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg relative",children:[m.items.length>1&&r.jsx("button",{type:"button",onClick:()=>x(j),className:"absolute top-2 right-2 text-red-600 hover:text-red-800",children:r.jsx(Lt,{size:20})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Medicine Name *"}),r.jsx("input",{type:"text",required:!0,value:v.medicine_name,onChange:k=>d(j,"medicine_name",k.target.value),placeholder:"e.g., Paracetamol",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Form"}),r.jsx("input",{type:"text",value:v.form,onChange:k=>d(j,"form",k.target.value),placeholder:"e.g., Tablet",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Dose"}),r.jsx("input",{type:"text",value:v.dose,onChange:k=>d(j,"dose",k.target.value),placeholder:"e.g., 500mg",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Frequency"}),r.jsx("input",{type:"text",value:v.frequency,onChange:k=>d(j,"frequency",k.target.value),placeholder:"e.g., 3 times daily",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),r.jsx("input",{type:"text",value:v.duration,onChange:k=>d(j,"duration",k.target.value),placeholder:"e.g., 5 days",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Instructions"}),r.jsx("input",{type:"text",value:v.instructions,onChange:k=>d(j,"instructions",k.target.value),placeholder:"e.g., After meals",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]})]})]},j))]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Prescription"})]})]})]})})})]})}function Bp(){return r.jsx(Up,{})}const Ar="http://localhost:8000";function Vp(){const[e,t]=N.useState([]),[n,s]=N.useState([]),[l,a]=N.useState(!0),[i,o]=N.useState(!1),[c,u]=N.useState(!1),[h,m]=N.useState(null),[g,f]=N.useState(""),[w,b]=N.useState("all"),[C,x]=N.useState({patientId:"",notes:"",items:[{description:"",quantity:1,unit_price:0,amount:0}]}),[d,p]=N.useState({paidAmount:0,paymentMethod:"cash"});N.useEffect(()=>{y(),v()},[w]);const y=async()=>{try{a(!0);const P=new URLSearchParams;w!=="all"&&P.append("payment_status",w);const _=await(await fetch(`${Ar}/api/v2/billing?${P}`)).json();t(_.bills||[])}catch(P){console.error("Error fetching bills:",P)}finally{a(!1)}},v=async()=>{try{const O=await(await fetch(`${Ar}/api/patients?limit=100`)).json();s(O.patients||[])}catch(P){console.error("Error fetching patients:",P)}},j=async P=>{P.preventDefault(),console.log("Creating bill with data:",C);try{const O=await fetch(`${Ar}/api/v2/billing`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});console.log("Response status:",O.status);const _=await O.json();console.log("Response data:",_),O.ok?(alert("Invoice created successfully!"),o(!1),x({patientId:"",notes:"",items:[{description:"",quantity:1,unit_price:0,amount:0}]}),y()):(alert(`Error creating invoice: ${_.detail||"Unknown error"}`),console.error("Error response:",_))}catch(O){console.error("Error creating bill:",O),alert(`Failed to create invoice: ${O.message}`)}},k=async P=>{P.preventDefault();try{(await fetch(`${Ar}/api/v2/billing/${h.id}/payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok&&(u(!1),m(null),p({paidAmount:0,paymentMethod:"cash"}),y())}catch(O){console.error("Error updating payment:",O)}},E=()=>{x({...C,items:[...C.items,{description:"",quantity:1,unit_price:0,amount:0}]})},I=P=>{const O=C.items.filter((_,T)=>T!==P);x({...C,items:O})},A=(P,O,_)=>{const T=[...C.items];T[P][O]=_,(O==="quantity"||O==="unit_price")&&(T[P].amount=T[P].quantity*T[P].unit_price),x({...C,items:T})},L=()=>C.items.reduce((P,O)=>P+(O.amount||0),0),$=P=>`${P.toFixed(2)}`,we=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",fr=P=>({paid:"bg-green-100 text-green-800",partial:"bg-yellow-100 text-yellow-800",unpaid:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800",pr=e.filter(P=>{var O;return g===""||((O=P.patient_name)==null?void 0:O.toLowerCase().includes(g.toLowerCase()))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing"}),r.jsx("p",{className:"text-gray-600",children:"Manage invoices and payments"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(It,{size:20}),"Create Invoice"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search bills...",value:g,onChange:P=>f(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("select",{value:w,onChange:P=>b(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"partial",children:"Partially Paid"}),r.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading bills..."}):pr.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No bills found. Create your first invoice!"}):r.jsx("div",{className:"divide-y divide-gray-200",children:pr.map(P=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Za,{className:"text-gray-400",size:20}),r.jsx("h3",{className:"font-semibold text-gray-900",children:P.patient_name||"Unknown Patient"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fr(P.payment_status)}`,children:P.payment_status})]}),r.jsxs("div",{className:"ml-8 space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{size:16}),r.jsxs("span",{children:["Created: ",we(P.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zu,{size:16}),r.jsxs("span",{className:"font-semibold",children:["Total: ",$(P.total_amount)]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{children:["Paid: ",$(P.paid_amount)]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-red-600",children:["Due: ",$(P.total_amount-P.paid_amount)]})]}),P.payment_method&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{size:16}),r.jsxs("span",{children:["Method: ",P.payment_method]})]}),P.notes&&r.jsx("p",{className:"text-gray-500 italic",children:P.notes})]})]}),r.jsx("div",{className:"flex gap-2",children:P.payment_status!=="paid"&&r.jsx("button",{onClick:()=>{m(P),p({paidAmount:P.total_amount-P.paid_amount,paymentMethod:"cash"}),u(!0)},className:"px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Record Payment"})})]})},P.id))})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Invoice"}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Lt,{size:24})})]}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Patient * ",n.length>0&&r.jsxs("span",{className:"text-gray-500",children:["(",n.length," available)"]})]}),r.jsxs("select",{required:!0,value:C.patientId,onChange:P=>x({...C,patientId:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select patient"}),n.map(P=>r.jsx("option",{value:P.id,children:P.name},P.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:C.notes,onChange:P=>x({...C,notes:P.target.value}),rows:2,placeholder:"Additional notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Items"}),r.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(It,{size:16}),"Add Item"]})]}),C.items.map((P,O)=>r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg relative",children:[C.items.length>1&&r.jsx("button",{type:"button",onClick:()=>I(O),className:"absolute top-2 right-2 text-red-600 hover:text-red-800",children:r.jsx(Lt,{size:20})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("input",{type:"text",required:!0,value:P.description,onChange:_=>A(O,"description",_.target.value),placeholder:"e.g., Consultation Fee",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",required:!0,min:"1",value:P.quantity,onChange:_=>A(O,"quantity",parseInt(_.target.value)||1),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price *"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:P.unit_price,onChange:_=>A(O,"unit_price",parseFloat(_.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"mt-2 text-right",children:r.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Amount: ",$(P.amount)]})})]},O)),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total Amount:"}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:$(L())})]})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Invoice"})]})]})]})})}),c&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Lt,{size:24})})]}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsx("span",{className:"font-semibold",children:$(h.total_amount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Already Paid:"}),r.jsx("span",{className:"font-semibold",children:$(h.paid_amount)})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{className:"text-gray-900 font-bold",children:"Amount Due:"}),r.jsx("span",{className:"font-bold text-red-600",children:$(h.total_amount-h.paid_amount)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",max:h.total_amount-h.paid_amount,value:d.paidAmount,onChange:P=>p({...d,paidAmount:parseFloat(P.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),r.jsxs("select",{required:!0,value:d.paymentMethod,onChange:P=>p({...d,paymentMethod:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"card",children:"Card"}),r.jsx("option",{value:"upi",children:"UPI"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"cheque",children:"Cheque"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(mp,{size:20}),"Record Payment"]})]})]})]})})})]})}function Hp(){return r.jsx(Vp,{})}function Wp(){const[e,t]=N.useState(""),[n,s]=N.useState([]),[l,a]=N.useState(!1),i=async o=>{var c;if(o.preventDefault(),!!e.trim()){a(!0);try{const h=await(await fetch("/api/suggest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({term:e,k:5})})).json();s(((c=h.data)==null?void 0:c.results)||[])}catch(u){console.error("Error searching mapping:",u)}finally{a(!1)}}};return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"NAMASTE to ICD-11 Mapping"}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:'Enter an AYUSH diagnostic term (e.g., "Jwara", "Kasa") to find the corresponding ICD-11 codes using our AI-powered mapping engine.'})]}),r.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:r.jsxs("form",{onSubmit:i,className:"relative",children:[r.jsx(yn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:"Enter diagnosis term (e.g., Jwara, Amlapitta)...",className:"w-full pl-12 pr-4 py-4 text-lg border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"}),r.jsx("button",{type:"submit",disabled:l,className:"absolute right-2 top-2 bottom-2 px-6 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"Searching...":"Map Code"})]})}),n.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Suggested ICD-11 Codes"}),r.jsx("div",{className:"grid gap-4",children:n.map((o,c)=>r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-blue-300 transition-colors group",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 font-bold rounded-lg font-mono",children:o.icd_code}),c===0&&r.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Best Match"})]}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:o.icd_title}),r.jsx("p",{className:"text-gray-500 text-sm",children:o.icd_description||"No description available"}),o.confidence&&r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-500",children:[r.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${o.confidence*100}%`}})}),r.jsxs("span",{children:[Math.round(o.confidence*100),"% Match Confidence"]})]})]}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:r.jsx(vp,{size:20})})]})},c))})]}),n.length===0&&!l&&e&&r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(fp,{size:48,className:"mx-auto mb-4 text-gray-300"}),r.jsxs("p",{children:['No mappings found for "',e,'"']}),r.jsx("p",{className:"text-sm",children:"Try using a different term or check the spelling."})]})]})}const Qp=()=>{const[e,t]=N.useState(null),[n,s]=N.useState([]),[l,a]=N.useState([]),[i,o]=N.useState(!0),[c,u]=N.useState("audit");N.useEffect(()=>{h();const f=setInterval(h,5e3);return()=>clearInterval(f)},[]);const h=async()=>{try{const w=await(await fetch("http://localhost:8000/api/orchestrator/status")).json();t(w);const C=await(await fetch("http://localhost:8000/api/orchestrator/audit?limit=10")).json();s(C.logs||[]);const d=await(await fetch("http://localhost:8000/api/orchestrator/review_queue?status=open")).json();a(d.tasks||[]),o(!1)}catch(f){console.error("Error fetching data:",f),o(!1)}},m=async()=>{try{await fetch("http://localhost:8000/api/orchestrator/pause",{method:"POST"}),h()}catch(f){console.error("Error pausing orchestrator:",f)}},g=async()=>{try{await fetch("http://localhost:8000/api/orchestrator/resume",{method:"POST"}),h()}catch(f){console.error("Error resuming orchestrator:",f)}};return i?r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsx(fo,{className:"animate-spin h-8 w-8 text-blue-500"})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orchestrator Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor AI orchestration system"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:h,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(fo,{className:"h-4 w-4"}),"Refresh"]}),(e==null?void 0:e.status)==="active"?r.jsxs("button",{onClick:m,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(Sp,{className:"h-4 w-4"}),"Pause Orchestrator"]}):r.jsxs("button",{onClick:g,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(Pp,{className:"h-4 w-4"}),"Resume Orchestrator"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Status"}),r.jsx(ln,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e==null?void 0:e.status)==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(e==null?void 0:e.status)||"Unknown"})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Mode: ",(e==null?void 0:e.mode)||"N/A"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Blocked Writes"}),r.jsx(Tu,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(e==null?void 0:e.blocked_write_count)||0}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Safeguards active"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Review Queue"}),r.jsx(sr,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:l.length}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Pending reviews"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Audit Logs"}),r.jsx(sa,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recent actions"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>u("audit"),className:`px-6 py-3 font-medium transition-colors ${c==="audit"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Audit Log"}),r.jsx("button",{onClick:()=>u("queue"),className:`px-6 py-3 font-medium transition-colors ${c==="queue"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Review Queue"})]})}),r.jsxs("div",{className:"p-6",children:[c==="audit"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Audit Logs"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"All orchestrator actions are logged here"}),r.jsx("div",{className:"space-y-2",children:n.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No audit logs yet"}):n.map(f=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f.status==="success"?"bg-green-100 text-green-800":f.status==="blocked"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status}),r.jsx("span",{className:"font-medium text-gray-900",children:f.action})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Actor: ",f.actor,f.attempted_write&&"   Write attempt blocked"]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(f.timestamp).toLocaleString()})]},f.id))})]}),c==="queue"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Review Queue"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Items requiring human review"}),r.jsx("div",{className:"space-y-2",children:l.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No pending reviews"}):l.map(f=>r.jsx("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(sr,{className:"h-4 w-4 text-yellow-600"}),r.jsxs("p",{className:"font-medium text-gray-900",children:["Task #",f.id,": ",f.reason]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Priority: ",f.priority,"  Created: ",new Date(f.created_at).toLocaleString()]})]}),r.jsx("button",{className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition-colors",children:"Review"})]})},f.id))})]})]})]})]})};function qp({onSwitchToRegister:e}){const[t,n]=N.useState(""),[s,l]=N.useState(""),[a,i]=N.useState(""),[o,c]=N.useState(!1),{login:u}=je(),h=async m=>{m.preventDefault(),i(""),c(!0);try{await u(t,s)}catch{i("Invalid email or password")}finally{c(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to CareSync Platform"})]}),a&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-800 text-sm",children:a})}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:t,onChange:m=>n(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"you@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsx("input",{type:"password",value:s,onChange:m=>l(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"",required:!0})]}),r.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign In"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",r.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Register"})]})})]}),r.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[r.jsx("p",{children:" Secured with JWT Authentication"}),r.jsx("p",{className:"mt-2",children:" Mapping Protection Active (22/22 tests passing)"})]})]})})}function Kp({onSwitchToLogin:e}){const[t,n]=N.useState({name:"",email:"",password:"",confirmPassword:"",role:"patient",phone:""}),[s,l]=N.useState(""),[a,i]=N.useState(!1),{register:o}=je(),c=h=>{n({...t,[h.target.name]:h.target.value})},u=async h=>{if(h.preventDefault(),l(""),t.password!==t.confirmPassword){l("Passwords do not match");return}i(!0);try{await o(t.email,t.password,t.name,t.role,t.phone)}catch{l("Registration failed. Email may already be in use.")}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-pink-100 px-4 py-12",children:r.jsx("div",{className:"max-w-md w-full",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),r.jsx("p",{className:"text-gray-600",children:"Join CareSync Platform"})]}),s&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-800 text-sm",children:s})}),r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"John Doe",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"you@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"+91 1234567890",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I am a"}),r.jsxs("select",{name:"role",value:t.role,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",children:[r.jsx("option",{value:"patient",children:"Patient"}),r.jsx("option",{value:"doctor",children:"Doctor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsx("input",{type:"password",name:"password",value:t.password,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"",required:!0,minLength:8})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),r.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",placeholder:"",required:!0})]}),r.jsx("button",{type:"submit",disabled:a,className:"w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:a?"Creating Account...":"Create Account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",r.jsx("button",{onClick:e,className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Sign In"})]})})]})})})}function Yp(){const[e,t]=N.useState([]),[n,s]=N.useState([]),[l,a]=N.useState("feedback"),[i,o]=N.useState(!1),{token:c}=je();N.useEffect(()=>{u(),h()},[]);const u=async()=>{o(!0);try{const w=await(await fetch("http://localhost:8000/api/mapping/feedback/summary?limit=50",{headers:{Authorization:`Bearer ${c}`}})).json();t(w.feedback_summary||[])}catch(f){console.error("Error loading feedback:",f)}finally{o(!1)}},h=async()=>{try{const w=await(await fetch("http://localhost:8000/api/mapping/proposals",{headers:{Authorization:`Bearer ${c}`}})).json();s(w.proposals||[])}catch(f){console.error("Error loading proposals:",f)}},m=async f=>{try{await fetch(`http://localhost:8000/api/admin/mapping/proposals/${f}/approve`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({notes:"Approved via admin console"})}),alert("Proposal approved! Manual migration required to apply changes."),h()}catch{alert("Failed to approve proposal")}},g=async f=>{const w=prompt("Reason for rejection:");if(w)try{await fetch(`http://localhost:8000/api/admin/mapping/proposals/${f}/reject`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({reason:w})}),alert("Proposal rejected"),h()}catch{alert("Failed to reject proposal")}};return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mapping Governance Console"}),r.jsx("p",{className:"text-gray-600",children:"Review feedback and manage mapping update proposals"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>a("feedback"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition ${l==="feedback"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Feedback Summary"}),r.jsxs("button",{onClick:()=>a("proposals"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition ${l==="proposals"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Proposals",n.filter(f=>f.status==="pending").length>0&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:n.filter(f=>f.status==="pending").length})]})]})}),l==="feedback"&&r.jsx("div",{className:"bg-white rounded-lg shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Clinician Feedback Summary"}),i?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No feedback collected yet"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"AYUSH Term"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"AI Suggested"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clinician Preferred"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Count"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Confidence"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((f,w)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:f.ayush_term}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:f.suggested_icd11}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-green-600 font-semibold",children:f.clinician_icd11}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:f.correction_count})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:f.avg_confidence?(f.avg_confidence*100).toFixed(0)+"%":"N/A"})]},w))})]})})]})}),l==="proposals"&&r.jsx("div",{className:"space-y-4",children:n.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center text-gray-500",children:"No proposals yet"}):n.map(f=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f.ayush_term}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Current:"}),r.jsx("span",{className:"ml-2 text-red-600 font-medium",children:f.current_icd11||"None"})]}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Proposed:"}),r.jsx("span",{className:"ml-2 text-green-600 font-medium",children:f.proposed_icd11})]})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="pending"?"bg-yellow-100 text-yellow-800":f.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.status})]}),r.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Reason:"})," ",f.reason]})}),f.status==="pending"&&r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>m(f.proposal_id),className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition",children:"Approve"}),r.jsx("button",{onClick:()=>g(f.proposal_id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition",children:"Reject"})]}),f.status==="approved"&&r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Manual Migration Required:"})," This proposal has been approved but mapping has NOT been updated. Follow the manual mapping update process to apply changes."]})})]},f.proposal_id))})]})}function Jp(){const[e,t]=N.useState([]),[n,s]=N.useState(!1),[l,a]=N.useState({user_id:"",action:"",limit:100}),{token:i}=je();N.useEffect(()=>{o()},[l]);const o=async()=>{s(!0);try{const h=new URLSearchParams;l.user_id&&h.append("user_id",l.user_id),l.action&&h.append("action",l.action),h.append("limit",l.limit);const g=await(await fetch(`http://localhost:8000/api/admin/audit-logs?${h}`,{headers:{Authorization:`Bearer ${i}`}})).json();t(g.logs||[])}catch(h){console.error("Error loading logs:",h)}finally{s(!1)}},c=h=>h.includes("create")?"bg-green-100 text-green-800":h.includes("update")?"bg-blue-100 text-blue-800":h.includes("delete")?"bg-red-100 text-red-800":h.includes("approve")?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",u=h=>h==="success"?"bg-green-100 text-green-800":h==="failed"?"bg-red-100 text-red-800":h==="blocked"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Audit Logs"}),r.jsx("p",{className:"text-gray-600",children:"Monitor all system actions and security events"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User ID"}),r.jsx("input",{type:"text",value:l.user_id,onChange:h=>a({...l,user_id:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Filter by user..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),r.jsxs("select",{value:l.action,onChange:h=>a({...l,action:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Actions"}),r.jsx("option",{value:"create",children:"Create"}),r.jsx("option",{value:"update",children:"Update"}),r.jsx("option",{value:"delete",children:"Delete"}),r.jsx("option",{value:"approve",children:"Approve"}),r.jsx("option",{value:"reject",children:"Reject"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limit"}),r.jsxs("select",{value:l.limit,onChange:h=>a({...l,limit:parseInt(h.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"50",children:"50 logs"}),r.jsx("option",{value:"100",children:"100 logs"}),r.jsx("option",{value:"500",children:"500 logs"})]})]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No audit logs found"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resource"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(h.timestamp).toLocaleString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.user_id||"System"}),r.jsx("div",{className:"text-xs text-gray-500",children:h.actor_type})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(h.action)}`,children:h.action})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:h.resource}),h.resource_id&&r.jsx("div",{className:"text-xs text-gray-500",children:h.resource_id})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(h.status)}`,children:h.status})})]},h.id))})]})})}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Logs"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Success"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(h=>h.status==="success").length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Failed"}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(h=>h.status==="failed").length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Blocked"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(h=>h.status==="blocked").length})]})]})]})}function Gp({appointmentId:e,isHost:t,onEnd:n}){const s=N.useRef(null),[l,a]=N.useState(null),[i,o]=N.useState(!0),[c,u]=N.useState(null),{token:h,user:m}=je();return N.useEffect(()=>{const g=()=>new Promise((w,b)=>{if(window.JitsiMeetExternalAPI){w();return}const C=document.createElement("script");C.src="https://8x8.vc/external_api.js",C.async=!0,C.onload=w,C.onerror=b,document.body.appendChild(C)});return(async()=>{try{o(!0),u(null),await g();const b=await fetch(`http://localhost:8000${t?"/api/teleconsult/start-call":"/api/teleconsult/join-call"}`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({appointment_id:e,room_id:e,participant_name:m.name})});if(!b.ok)throw new Error("Failed to start/join call");const C=await b.json(),x=C.room_id,d="8x8.vc",p={roomName:x,width:"100%",height:"100%",parentNode:s.current,jwt:C.jwt_token,configOverwrite:{startWithAudioMuted:!1,startWithVideoMuted:!1,enableWelcomePage:!1,prejoinPageEnabled:!1,disableDeepLinking:!0},interfaceConfigOverwrite:{TOOLBAR_BUTTONS:["microphone","camera","closedcaptions","desktop","fullscreen","fodeviceselection","hangup","profile","chat","recording","livestreaming","etherpad","sharedvideo","settings","raisehand","videoquality","filmstrip","stats","shortcuts","tileview","download","help","mute-everyone"],SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,DEFAULT_REMOTE_DISPLAY_NAME:"Participant",MOBILE_APP_PROMO:!1},userInfo:{displayName:m.name,email:m.email}},y=new window.JitsiMeetExternalAPI(d,p);a(y),y.addEventListener("videoConferenceJoined",()=>{console.log("Joined video conference"),o(!1)}),y.addEventListener("videoConferenceLeft",async()=>{if(console.log("Left video conference"),t)try{await fetch(`http://localhost:8000/api/teleconsult/end-call/${e}`,{method:"POST",headers:{Authorization:`Bearer ${h}`}})}catch(v){console.error("Failed to end call:",v)}n&&n()}),y.addEventListener("readyToClose",()=>{y.dispose(),n&&n()})}catch(w){console.error("Error starting video call:",w),u(w.message||"Failed to start video call"),o(!1)}})(),()=>{l&&l.dispose()}},[e,t,h,m,n]),c?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"text-red-500 text-xl mb-4",children:" Error"}),r.jsx("div",{children:c}),r.jsx("button",{onClick:n,className:"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Go Back"})]})}):i?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto mb-4"}),r.jsx("div",{children:"Connecting to video call..."})]})}):r.jsx("div",{ref:s,className:"w-full h-full"})}function Xp(){const[e,t]=N.useState([]),[n,s]=N.useState(null),[l,a]=N.useState(!0),{token:i,user:o}=je();N.useEffect(()=>{c()},[]);const c=async()=>{try{const g=await(await fetch("http://localhost:8000/api/appointments",{headers:{Authorization:`Bearer ${i}`}})).json();t(g.appointments||[])}catch(m){console.error("Error loading appointments:",m)}finally{a(!1)}},u=m=>{s(m)},h=()=>{s(null),c()};return n?r.jsxs("div",{className:"h-screen flex flex-col",children:[r.jsxs("div",{className:"bg-gray-900 text-white px-6 py-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Video Consultation"}),r.jsxs("p",{className:"text-sm text-gray-300",children:["Appointment #",n.id]})]}),r.jsxs("button",{onClick:h,className:"bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg flex items-center gap-2",children:[r.jsx(Cp,{size:20}),"End Call"]})]}),r.jsx("div",{className:"flex-1",children:r.jsx(Gp,{appointmentId:n.id,isHost:o.role==="doctor",onEnd:h})})]}):r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Teleconsultation"}),r.jsx("p",{className:"text-gray-600",children:"Secure video consultations powered by Jitsi"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 mb-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(qr,{size:32}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"HD Video Consultations"}),r.jsx("p",{className:"text-purple-100",children:"End-to-end encrypted, HIPAA compliant"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:"256-bit"}),r.jsx("div",{className:"text-sm text-purple-100",children:"Encryption"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:"1080p"}),r.jsx("div",{className:"text-sm text-purple-100",children:"Video Quality"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:"Unlimited"}),r.jsx("div",{className:"text-sm text-purple-100",children:"Duration"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Scheduled Consultations"}),l?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(qr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No scheduled consultations"})]}):r.jsx("div",{className:"space-y-4",children:e.map(m=>r.jsx("div",{className:"border rounded-lg p-4 hover:border-blue-500 transition",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(js,{className:"text-blue-600",size:20}),r.jsx("h3",{className:"font-semibold text-gray-900",children:o.role==="doctor"?m.patient_name:m.doctor_name})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:["Date: ",new Date(m.date).toLocaleDateString()]}),r.jsxs("p",{children:["Time: ",m.time]}),m.notes&&r.jsxs("p",{className:"mt-2 text-gray-500",children:["Notes: ",m.notes]})]})]}),r.jsxs("button",{onClick:()=>u(m),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition",children:[r.jsx(qr,{size:20}),"Join Call"]})]})},m.id))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[r.jsx(pp,{className:"text-blue-600 mb-3",size:32}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"HD Video & Audio"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Crystal clear 1080p video with noise cancellation"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[r.jsx(js,{className:"text-purple-600 mb-3",size:32}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Screen Sharing"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Share medical records and reports in real-time"})]})]})]})}function Zp({appointmentId:e,amount:t,onSuccess:n,onFailure:s}){const[l,a]=N.useState(!1),[i,o]=N.useState(null),{token:c,user:u}=je();N.useEffect(()=>{const m=document.createElement("script");return m.src="https://checkout.razorpay.com/v1/checkout.js",m.async=!0,document.body.appendChild(m),()=>{document.body.contains(m)&&document.body.removeChild(m)}},[]);const h=async()=>{a(!0),o(null);try{if(!window.Razorpay)throw new Error("Razorpay SDK not loaded");const m=await fetch("http://localhost:8000/api/payments/create-order",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({appointment_id:e,amount:t,currency:"INR",description:"Consultation Payment"})});if(!m.ok)throw new Error("Failed to create payment order");const g=await m.json(),f={key:g.key_id,amount:g.amount*100,currency:g.currency,name:"CareSync",description:"Consultation Payment",order_id:g.order_id,handler:async function(b){try{const C=await fetch("http://localhost:8000/api/payments/verify-payment",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:b.razorpay_order_id,razorpay_payment_id:b.razorpay_payment_id,razorpay_signature:b.razorpay_signature,appointment_id:e})});if(C.ok){const x=await C.json();n&&n(x)}else throw new Error("Payment verification failed")}catch(C){s&&s(C)}},prefill:{name:(u==null?void 0:u.name)||"",email:(u==null?void 0:u.email)||"",contact:(u==null?void 0:u.phone)||""},theme:{color:"#3B82F6"},modal:{ondismiss:function(){a(!1),s&&s(new Error("Payment cancelled"))}}};new window.Razorpay(f).open(),a(!1)}catch(m){console.error("Payment error:",m),o(m.message),a(!1),s&&s(m)}};return r.jsxs("div",{className:"bg-white rounded-lg p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Payment Details"}),r.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Consultation Fee"}),r.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",t]})]})]}),i&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-800 text-sm",children:i})}),r.jsx("button",{onClick:h,disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Pay ",t]})}),r.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-gray-500",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Secured by Razorpay"]})]})}function em(){const[e,t]=N.useState([]),[n,s]=N.useState([]),[l,a]=N.useState({total:0,pending:0,completed:0,failed:0}),[i,o]=N.useState(!1),[c,u]=N.useState(null),[h,m]=N.useState(!0),{token:g,user:f}=je();N.useEffect(()=>{w(),(f==null?void 0:f.role)==="patient"&&b()},[f]);const w=async()=>{try{const j=await fetch("http://localhost:8000/api/payments/history",{headers:{Authorization:`Bearer ${g}`}});if(j.ok){const k=await j.json();t(k.payments||[]),C(k.payments||[])}}catch(j){console.error("Error loading payments:",j)}finally{m(!1)}},b=async()=>{try{const j=await fetch("http://localhost:8000/api/appointments",{headers:{Authorization:`Bearer ${g}`}});if(j.ok){const E=((await j.json()).appointments||[]).filter(I=>I.status==="scheduled"||I.status==="confirmed");s(E)}}catch(j){console.error("Error loading appointments:",j)}},C=j=>{const k={total:j.reduce((E,I)=>E+(I.amount||0),0),pending:j.filter(E=>E.status==="pending").length,completed:j.filter(E=>E.status==="completed").length,failed:j.filter(E=>E.status==="failed").length};a(k)},x=j=>{u(j),o(!0)},d=()=>{o(!1),u(null),w(),(f==null?void 0:f.role)==="patient"&&b(),alert("Payment successful! Your appointment is confirmed.")},p=j=>{alert(`Payment failed: ${(j==null?void 0:j.message)||"Unknown error"}`)},y=j=>{switch(j){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=j=>{switch(j){case"completed":return r.jsx(ys,{size:16});case"pending":return r.jsx(vs,{size:16});case"failed":return r.jsx(mo,{size:16});default:return null}};return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payments"}),r.jsx("p",{className:"text-gray-600",children:"Secure payment processing powered by Razorpay"})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(zu,{className:"text-blue-600",size:24}),r.jsx(lr,{className:"text-green-500",size:20})]}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",l.total.toFixed(2)]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Total ",(f==null?void 0:f.role)==="doctor"?"Revenue":"Spent"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(ys,{className:"text-green-600",size:24})}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.completed}),r.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(vs,{className:"text-yellow-600",size:24})}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.pending}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pending"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(mo,{className:"text-red-600",size:24})}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.failed}),r.jsx("div",{className:"text-sm text-gray-500",children:"Failed"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 mb-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx($n,{size:32}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Razorpay Integration"}),r.jsx("p",{className:"text-blue-100",children:"PCI DSS compliant, supports UPI, cards, wallets & more"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[r.jsx("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:r.jsx("div",{className:"text-sm",children:"UPI"})}),r.jsx("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:r.jsx("div",{className:"text-sm",children:"Cards"})}),r.jsx("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:r.jsx("div",{className:"text-sm",children:"Wallets"})}),r.jsx("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:r.jsx("div",{className:"text-sm",children:"Net Banking"})})]})]}),(f==null?void 0:f.role)==="patient"&&n.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Pending Payments"}),r.jsx("div",{className:"space-y-4",children:n.map(j=>r.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:["Appointment with Dr. ",j.doctor_name||"Unknown"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Date: ",j.date," at ",j.time]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Consultation Fee: 500"})]}),r.jsxs("button",{onClick:()=>x({...j,amount:500}),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2",children:[r.jsx($n,{size:16}),"Pay Now"]})]},j.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment History"}),h?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):e.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx($n,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No payment history"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Method"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>{var k;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",((k=j.id)==null?void 0:k.slice(0,8))||"N/A"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:j.created_at?new Date(j.created_at).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.description||"Consultation Payment"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["",(j.amount||0).toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${y(j.status)}`,children:[v(j.status),j.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:j.method||"Razorpay"})]},j.id)})})]})})]}),i&&c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full relative",children:[r.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Make Payment"}),r.jsx(Zp,{appointmentId:c.id,amount:c.amount||500,onSuccess:d,onFailure:p})]})})]})}function tm(){const[e,t]=N.useState([]),[n,s]=N.useState([]),[l,a]=N.useState(!0),[i,o]=N.useState(!1),{token:c}=je();N.useEffect(()=>{u(),h()},[]);const u=async()=>{try{const w=await(await fetch("http://localhost:8000/api/admin/claims",{headers:{Authorization:`Bearer ${c}`}})).json();t(w.claims||[])}catch(f){console.error("Error loading claims:",f)}finally{a(!1)}},h=async()=>{try{const w=await(await fetch("http://localhost:8000/api/encounters",{headers:{Authorization:`Bearer ${c}`}})).json();s(w.encounters||[])}catch(f){console.error("Error loading encounters:",f)}},m=async f=>{o(!0);try{(await fetch("http://localhost:8000/api/claims/generate",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({encounter_id:f})})).ok&&(alert("Claim generated successfully!"),u())}catch{alert("Failed to generate claim")}finally{o(!1)}},g=f=>{switch(f){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Claims Management"}),r.jsx("p",{className:"text-gray-600",children:"Generate and manage insurance claim packets"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 rounded-xl p-6 mb-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(mn,{size:32}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Automated Claim Generation"}),r.jsx("p",{className:"text-green-100",children:"ICD-11 coded claims ready for insurer submission"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-green-100",children:"Total Claims"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:e.filter(f=>f.status==="approved").length}),r.jsx("div",{className:"text-sm text-green-100",children:"Approved"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:e.filter(f=>f.status==="pending").length}),r.jsx("div",{className:"text-sm text-green-100",children:"Pending"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Generate New Claim"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Select an encounter to generate an insurance claim packet"}),r.jsx("div",{className:"space-y-3",children:n.slice(0,5).map(f=>r.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:["Encounter #",f.id.slice(0,8)]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Patient: ",f.patient_name," | Date: ",new Date(f.date).toLocaleDateString()]}),f.diagnosis&&r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Diagnosis: ",f.diagnosis]})]}),r.jsxs("button",{onClick:()=>m(f.id),disabled:i,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50",children:[r.jsx(Lu,{size:16}),"Generate Claim"]})]},f.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Claim History"}),l?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"})}):e.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(mn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No claims generated yet"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Claim ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Patient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>{var w;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",f.id.slice(0,8)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:f.patient_name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(f.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["",((w=f.amount)==null?void 0:w.toFixed(2))||"0.00"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${g(f.status)}`,children:[f.status==="approved"&&r.jsx(ys,{size:14}),f.status==="pending"&&r.jsx(vs,{size:14}),f.status==="rejected"&&r.jsx(up,{size:14}),f.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[r.jsx(yp,{size:16}),"Download"]})})]},f.id)})})]})})]})]})}function nm(){const[e,t]=N.useState(null),[n,s]=N.useState(null),[l,a]=N.useState(!0),{token:i}=je();N.useEffect(()=>{o();const u=setInterval(o,3e4);return()=>clearInterval(u)},[]);const o=async()=>{try{const[u,h]=await Promise.all([fetch("http://localhost:8000/api/health"),fetch("http://localhost:8000/api/metrics")]),m=await u.json(),g=await h.text();t(m),c(g)}catch(u){console.error("Error loading metrics:",u)}finally{a(!1)}},c=u=>{const h=u.split(`
`),m={};h.forEach(g=>{if(g.startsWith("#")||!g.trim())return;const[f,w]=g.split(" ");f&&w&&(m[f]=parseFloat(w))}),s(m)};return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Monitoring"}),r.jsx("p",{className:"text-gray-600",children:"Real-time health checks and performance metrics"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-6 mb-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(ln,{size:32}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:"System Health"}),r.jsx("p",{className:"text-blue-100",children:"All systems operational"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx(po,{className:"mb-2",size:24}),r.jsx("div",{className:"text-sm",children:"API Server"}),r.jsx("div",{className:"text-lg font-bold",children:(e==null?void 0:e.status)||"Loading..."})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx(sa,{className:"mb-2",size:24}),r.jsx("div",{className:"text-sm",children:"Database"}),r.jsx("div",{className:"text-lg font-bold",children:(e==null?void 0:e.database)||"healthy"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx(ho,{className:"mb-2",size:24}),r.jsx("div",{className:"text-sm",children:"Redis"}),r.jsx("div",{className:"text-lg font-bold",children:(e==null?void 0:e.redis)||"mock"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx(lr,{className:"mb-2",size:24}),r.jsx("div",{className:"text-sm",children:"Uptime"}),r.jsx("div",{className:"text-lg font-bold",children:"99.9%"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"API Requests"}),r.jsx(ln,{className:"text-blue-600",size:24})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:(n==null?void 0:n.http_requests_total)||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total requests processed"}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-600",style:{width:"75%"}})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Avg Response Time"}),r.jsx(ho,{className:"text-yellow-600",size:24})]}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[n!=null&&n.http_request_duration_seconds?(n.http_request_duration_seconds*1e3).toFixed(0):"0","ms"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Average latency"}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-yellow-600",style:{width:"45%"}})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Database Queries"}),r.jsx(sa,{className:"text-purple-600",size:24})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:(n==null?void 0:n.db_queries_total)||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total queries executed"}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-purple-600",style:{width:"60%"}})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Error Rate"}),r.jsx(sr,{className:"text-red-600",size:24})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:(n==null?void 0:n.http_errors_total)||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Errors in last hour"}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-red-600",style:{width:"5%"}})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Monitoring Features"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(ln,{className:"text-blue-600 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Health Checks"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Automated system health monitoring"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(lr,{className:"text-green-600 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Prometheus Metrics"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Industry-standard metrics collection"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(po,{className:"text-purple-600 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Canary Deployments"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Safe model rollout with monitoring"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(sr,{className:"text-red-600 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Sentry Integration"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Real-time error tracking and alerts"})]})]})]})]})]})}function rm(){var g;const[e,t]=N.useState("dashboard"),[n,s]=N.useState(!0),[l,a]=N.useState("login"),{user:i,logout:o,isAuthenticated:c}=je();if(!c)return l==="register"?r.jsx(Kp,{onSwitchToLogin:()=>a("login")}):r.jsx(qp,{onSwitchToRegister:()=>a("register")});i==null||i.role,i==null||i.role;const h=[{id:"dashboard",label:"Dashboard",icon:jp,roles:["admin","doctor","patient"]},{id:"patients",label:"Patients",icon:js,roles:["admin","doctor"]},{id:"appointments",label:"Appointments",icon:dr,roles:["admin","doctor","patient"]},{id:"teleconsult",label:"Teleconsult",icon:qr,roles:["admin","doctor","patient"],badge:"NEW"},{id:"encounters",label:"Encounters",icon:ln,roles:["admin","doctor"]},{id:"prescriptions",label:"Prescriptions",icon:Ep,roles:["admin","doctor","patient"]},{id:"billing",label:"Billing",icon:zp,roles:["admin","doctor"]},{id:"payments",label:"Payments",icon:$n,roles:["admin","doctor","patient"],badge:"NEW"},{id:"claims",label:"Claims",icon:mn,roles:["admin","doctor"],badge:"NEW"},{id:"mapping",label:"ICD-11 Mapping",icon:mn,roles:["admin","doctor"]},{id:"orchestrator",label:"Orchestrator",icon:Tp,roles:["admin"]},{id:"monitoring",label:"Monitoring",icon:lr,roles:["admin"],badge:"NEW"},{id:"admin-mapping",label:"Mapping Console",icon:Tu,roles:["admin"],divider:!0},{id:"admin-audit",label:"Audit Logs",icon:gp,roles:["admin"]}].filter(f=>f.roles.includes(i==null?void 0:i.role)),m=()=>{switch(e){case"dashboard":return r.jsx(xo,{});case"patients":return r.jsx(Dp,{});case"appointments":return r.jsx(Ip,{});case"teleconsult":return r.jsx(Xp,{});case"encounters":return r.jsx($p,{});case"prescriptions":return r.jsx(Bp,{});case"billing":return r.jsx(Hp,{});case"payments":return r.jsx(em,{});case"claims":return r.jsx(tm,{});case"mapping":return r.jsx(Wp,{});case"orchestrator":return r.jsx(Qp,{});case"monitoring":return r.jsx(nm,{});case"admin-mapping":return r.jsx(Yp,{});case"admin-audit":return r.jsx(Jp,{});default:return r.jsx(xo,{})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:relative lg:translate-x-0`,children:[r.jsxs("div",{className:"h-16 flex items-center justify-between px-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"text-blue-600",size:24}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"CareSync"}),r.jsx("div",{className:"text-xs text-green-600 font-semibold",children:" Platform Ready"})]})]}),r.jsx("button",{onClick:()=>s(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(Lt,{size:24})})]}),r.jsx("nav",{className:"p-4 space-y-1 overflow-y-auto",style:{maxHeight:"calc(100vh - 180px)"},children:h.map(f=>{const w=f.icon;return r.jsxs(_o.Fragment,{children:[f.divider&&r.jsx("div",{className:"my-4 border-t border-gray-200"}),r.jsxs("button",{onClick:()=>{t(f.id),window.innerWidth<1024&&s(!1)},className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${e===f.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(w,{size:20}),f.label]}),f.badge&&r.jsx("span",{className:"px-2 py-0.5 bg-green-500 text-white text-xs font-bold rounded",children:f.badge})]})]},f.id)})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-white",children:[r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:((g=i==null?void 0:i.name)==null?void 0:g.charAt(0).toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.name)||"User"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(i==null?void 0:i.role)||"User"})]})]}),r.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[r.jsx(wp,{size:16}),"Logout"]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[r.jsxs("header",{className:"lg:hidden h-16 bg-white border-b border-gray-200 flex items-center px-4",children:[r.jsx("button",{onClick:()=>s(!0),className:"text-gray-500 hover:text-gray-700",children:r.jsx(bp,{size:24})}),r.jsx("span",{className:"ml-4 text-lg font-semibold text-gray-900",children:"CareSync"})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 text-sm",children:r.jsx("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"font-semibold",children:" Platform Transformed"}),r.jsx("span",{className:"opacity-90",children:"|"}),r.jsx("span",{children:" JWT Auth"}),r.jsx("span",{className:"opacity-90",children:"|"}),r.jsx("span",{children:" Teleconsult"}),r.jsx("span",{className:"opacity-90",children:"|"}),r.jsx("span",{children:" Payments"}),r.jsx("span",{className:"opacity-90",children:"|"}),r.jsx("span",{children:" Mapping Protected (22/22)"})]})})}),r.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:m()})]})]})}function sm(){return r.jsx(Mp,{children:r.jsx(rm,{})})}dl.createRoot(document.getElementById("root")).render(r.jsx(_o.StrictMode,{children:r.jsx(sm,{})}));
